/*!
*    Copyright (c) 2010, Globo Comunicações e Participações S.A. All Rights Reserved.
*    tag: '2.0.22'
*    commit: '0bd73612ec412865ea31c6cc01894bcb9d7fe42e'
*
*    UUID.generate - Copyright (c) 2011 Matt Williams <matt@makeable.co.uk>. All rights reserved.
*/
(function(window,document,undefined){function callOrReturnWith(a,b){return _(a).isFunction()?a(b):a}function hostForEnvironment(a,b){return b=b||{},Env.environment==="qa1"?callOrReturnWith(a.qa1,b):Env.isInternal()?callOrReturnWith(a.internal,b):callOrReturnWith(a.live,b)}function GMCEmbed(a){this.deprecated("Esta classe nao deve mais ser utilizada, mude para a WM.Player"),this.config=a;if(this.config.novoPlayer===undefined||this.config.novoPlayer==null||this.config.novoPlayer==="")this.config.novoPlayer=!0;if(this.config.hostNovoPlayer===undefined||this.config.hostNovoPlayer==null||this.config.hostNovoPlayer==="")this.config.environment="",this.config.hostNovoPlayer="s.videos.globo.com";this.id="globovideos_embed_"+this.config.idEmbed,!this.config.pp&&this.config.embedInterno&&(this.config.pp=this.config.embedInterno),this.config.escondeBarraInferior=this.config.escondeTrocaBanda,this.tamanhos={P:{largura:186,altura:138,barraInferior:0},I:{largura:288,altura:216,barraInferior:0},N:{largura:320,altura:240,barraInferior:0},L:{largura:480,altura:360,barraInferior:0},X:{largura:640,altura:360,barraInferior:0},PaginaPlayer:{largura:480,altura:360,barraInferior:0}},this.config.novoPlayer&&(this.config.titulo=this.config.destaque=this.config.imagem=this.config.css=null,this.config.pp=!1,this.config.escondeBarraInferior=this.config.escondeTrocaBanda=this.config.escondFimVideo=!0),this.config.midiaId&&(this.config.videosIDs=this.config.midiaId),delete this.config.midiaId,this.config.autoStart&&(this.config.autoPlay=this.config.autoStart),delete this.config.autoStart,this.config.width=this._largura(),this.config.height=this._altura(),this.config.onTerminoDoVideo&&(this.config.complete=this.config.onTerminoDoVideo,this.config.onStop=this.config.onTerminoDoVideo),this.config.escondeTrocaBanda||(this.config.displayThumbsUpButton=!0),this.config.swf="http://s.videos.globo.com/p2/player-gmc.swf",this.config.playerNamespaceTemplate="RegistradorGMCEmbed.obter(<%= id %>).player",this.player=new Player(this.config),this.player.gmcembed=this,this.config.idEmbed=this.player.id}function GMCEmbedDetecter(){this.isIE=navigator.appVersion.indexOf("MSIE")!=-1?!0:!1,this.isWin=navigator.appVersion.toLowerCase().indexOf("win")!=-1?!0:!1,this.isOpera=navigator.userAgent.indexOf("Opera")!=-1?!0:!1,this.wmp=this.detectWmp(),this.flashMinimo=this.detectSwf(9,0,115),this.flashMinimo?this.flashInstalado=!0:this.flashInstalado=this.detectSwf(6,0,65)}function GMCEmbedUtil(){this.bandas={wmp:{P:{largura:186,altura:116},N:{largura:320,altura:200},L:{largura:480,altura:300},I:{largura:288,altura:180},X:{largura:640,altura:360}},swf:{P:{largura:186,altura:170},N:{largura:320,altura:272},L:{largura:480,altura:392},I:{largura:288,altura:248},X:{largura:640,altura:360}},novoPlayer:{P:{largura:186,altura:138},I:{largura:288,altura:216},N:{largura:320,altura:240},L:{largura:480,altura:360},X:{largura:640,altura:360}}};var a=/\.globoi\.com$/.test(location.hostname)?"conteudo.globoi.com":"playervideo.globo.com",b="http://"+a+"/webmedia/";this.urlFim=b+"player/GMCFimVideo",this.urlFimEmbed=b+"player/embed/GMCFimVideo",this.urlEnviar=b+"GMCEnviarEmail",this.urlLogin=b+"player/GMCLogin",this.urlLoginEmbed=b+"player/embed/GMCLogin",this.urlPlay=this.urlPlayEmbed="",this.urlStop=this.urlStopEmbed=""}function MashupEmbed(){this.isVideoEmbedOpen=!1,this.img=null,this.embed=null}if(window.RegistradorGMCEmbed&&window.RegistradorGMCEmbed.existo())return;((function(){function A(a,b,c){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&w.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&w.isFunction(b.isEqual))return b.isEqual(a);var d=i.call(a);if(d!=i.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var e=c.length;while(e--)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&A(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(w.has(a,h)){f++;if(!(g=w.has(b,h)&&A(a[h],b[h],c)))break}if(g){for(h in b)if(w.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf,t=Array.isArray,u=Object.keys,v=f.bind,w=function(a){return new E(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=w),exports._=w):a._=w,w.VERSION="1.3.1";var x=w.each=w.forEach=function(a,b,d){if(a==null)return;if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(w.has(a,g)&&b.call(d,a[g],g,a)===c)return};w.map=w.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(x(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},w.reduce=w.foldl=w.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=w.bind(b,d)),e?a.reduce(b,c):a.reduce(b);x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},w.reduceRight=w.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=w.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=w.toArray(a).reverse();return d&&!e&&(b=w.bind(b,d)),e?w.reduce(f,b,c,d):w.reduce(f,b)},w.find=w.detect=function(a,b,c){var d;return y(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},w.filter=w.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},w.reject=function(a,b,c){var d=[];return a==null?d:(x(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},w.every=w.all=function(a,b,d){var e=!0;return a==null?e:p&&a.every===p?a.every(b,d):(x(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),e)};var y=w.some=w.any=function(a,b,d){b||(b=w.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,d):(x(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c}),!!e)};w.include=w.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:(c=y(a,function(a){return a===b}),c)},w.invoke=function(a,b){var c=g.call(arguments,2);return w.map(a,function(a){return(w.isFunction(b)?b||a:a[b]).apply(a,c)})},w.pluck=function(a,b){return w.map(a,function(a){return a[b]})},w.max=function(a,b,c){if(!b&&w.isArray(a))return Math.max.apply(Math,a);if(!b&&w.isEmpty(a))return-Infinity;var d={computed:-Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},w.min=function(a,b,c){if(!b&&w.isArray(a))return Math.min.apply(Math,a);if(!b&&w.isEmpty(a))return Infinity;var d={computed:Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},w.shuffle=function(a){var b=[],c;return x(a,function(a,d,e){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)}),b},w.sortBy=function(a,b,c){return w.pluck(w.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},w.groupBy=function(a,b){var c={},d=w.isFunction(b)?b:function(a){return a[b]};return x(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},w.sortedIndex=function(a,b,c){c||(c=w.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},w.toArray=function(a){return a?a.toArray?a.toArray():w.isArray(a)?g.call(a):w.isArguments(a)?g.call(a):w.values(a):[]},w.size=function(a){return w.toArray(a).length},w.first=w.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},w.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},w.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},w.rest=w.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},w.compact=function(a){return w.filter(a,function(a){return!!a})},w.flatten=function(a,b){return w.reduce(a,function(a,c){return w.isArray(c)?a.concat(b?c:w.flatten(c)):(a[a.length]=c,a)},[])},w.without=function(a){return w.difference(a,g.call(arguments,1))},w.uniq=w.unique=function(a,b,c){var d=c?w.map(a,c):a,e=[];return w.reduce(d,function(c,d,f){if(0==f||(b===!0?w.last(c)!=d:!w.include(c,d)))c[c.length]=d,e[e.length]=a[f];return c},[]),e},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(a){var b=g.call(arguments,1);return w.filter(w.uniq(a),function(a){return w.every(b,function(b){return w.indexOf(b,a)>=0})})},w.difference=function(a){var b=w.flatten(g.call(arguments,1));return w.filter(a,function(a){return!w.include(b,a)})},w.zip=function(){var a=g.call(arguments),b=w.max(w.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=w.pluck(a,""+d);return c},w.indexOf=function(a,b,c){if(a==null)return-1;var d,e;if(c)return d=w.sortedIndex(a,b),a[d]===b?d:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},w.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);var c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},w.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f};var z=function(){};w.bind=function(b,c){var d,e;if(b.bind===v&&v)return v.apply(b,g.call(arguments,1));if(!w.isFunction(b))throw new TypeError;return e=g.call(arguments,2),d=function(){if(this instanceof d){z.prototype=b.prototype;var a=new z,f=b.apply(a,e.concat(g.call(arguments)));return Object(f)===f?f:a}return b.apply(c,e.concat(g.call(arguments)))}},w.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=w.functions(a)),x(b,function(b){a[b]=w.bind(a[b],a)}),a},w.memoize=function(a,b){var c={};return b||(b=w.identity),function(){var d=b.apply(this,arguments);return w.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},w.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},w.defer=function(a){return w.delay.apply(w,[a,1].concat(g.call(arguments,1)))},w.throttle=function(a,b){var c,d,e,f,g,h=w.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var i=function(){e=null,g&&a.apply(c,d),h()};e||(e=setTimeout(i,b)),f?g=!0:a.apply(c,d),h(),f=!0}},w.debounce=function(a,b){var c;return function(){var d=this,e=arguments,f=function(){c=null,a.apply(d,e)};clearTimeout(c),c=setTimeout(f,b)}},w.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},w.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},w.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},w.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},w.keys=u||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)w.has(a,c)&&(b[b.length]=c);return b},w.values=function(a){return w.map(a,w.identity)},w.functions=w.methods=function(a){var b=[];for(var c in a)w.isFunction(a[c])&&b.push(c);return b.sort()},w.extend=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},w.defaults=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},w.clone=function(a){return w.isObject(a)?w.isArray(a)?a.slice():w.extend({},a):a},w.tap=function(a,b){return b(a),a},w.isEqual=function(a,b){return A(a,b,[])},w.isEmpty=function(a){if(w.isArray(a)||w.isString(a))return a.length===0;for(var b in a)if(w.has(a,b))return!1;return!0},w.isElement=function(a){return!!a&&a.nodeType==1},w.isArray=t||function(a){return i.call(a)=="[object Array]"},w.isObject=function(a){return a===Object(a)},w.isArguments=function(a){return i.call(a)=="[object Arguments]"},w.isArguments(arguments)||(w.isArguments=function(a){return!!a&&!!w.has(a,"callee")}),w.isFunction=function(a){return i.call(a)=="[object Function]"},w.isString=function(a){return i.call(a)=="[object String]"},w.isNumber=function(a){return i.call(a)=="[object Number]"},w.isNaN=function(a){return a!==a},w.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},w.isDate=function(a){return i.call(a)=="[object Date]"},w.isRegExp=function(a){return i.call(a)=="[object RegExp]"},w.isNull=function(a){return a===null},w.isUndefined=function(a){return a===void 0},w.has=function(a,b){return j.call(a,b)},w.noConflict=function(){return a._=b,this},w.identity=function(a){return a},w.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},w.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.mixin=function(a){x(w.functions(a),function(b){G(b,w[b]=a[b])})};var B=0;w.uniqueId=function(a){var b=B++;return a?a+b:b},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,D=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};w.template=function(a,b){var c=w.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||C,function(a,b){return"',_.escape("+D(b)+"),'"}).replace(c.interpolate||C,function(a,b){return"',"+D(b)+",'"}).replace(c.evaluate||C,function(a,b){return"');"+D(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj","_",d);return b?e(b,w):function(a){return e.call(this,a,w)}},w.chain=function(a){return w(a).chain()};var E=function(a){this._wrapped=a};w.prototype=E.prototype;var F=function(a,b){return b?w(a).chain():a},G=function(a,b){E.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),F(b.apply(w,a),this._chain)}};w.mixin(w),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];E.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],F(c,this._chain)}}),x(["concat","join","slice"],function(a){var b=d[a];E.prototype[a]=function(){return F(b.apply(this._wrapped,arguments),this._chain)}}),E.prototype.chain=function(){return this._chain=!0,this},E.prototype.value=function(){return this._wrapped}})).call(this),function(a){"use strict";var b=String.prototype.trim,c=function(a){return a*1||0},d=function(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")},e=function(a){return Array.prototype.slice.call(a)},f=function(a){return a?h.escapeRegExp(a):"\\s"},g=function(a){return function(){var b=e(arguments);for(var c=0;c<b.length;c++)b[c]=b[c]==null?"":""+b[c];return a.apply(null,b)}},h={VERSION:"2.0.0",isBlank:g(function(a){return/^\s*$/.test(a)}),stripTags:g(function(a){return a.replace(/<\/?[^>]+>/ig,"")}),capitalize:g(function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()}),chop:g(function(a,b){b=c(b)||a.length;var d=[];for(var e=0;e<a.length;)d.push(a.slice(e,e+b)),e+=b;return d}),clean:g(function(a){return h.strip(a.replace(/\s+/g," "))}),count:g(function(a,b){var c=0,d;for(var e=0;e<a.length;)d=a.indexOf(b,e),d>=0&&c++,e=e+(d>=0?d:0)+b.length;return c}),chars:g(function(a){return a.split("")}),escapeHTML:g(function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:g(function(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:g(function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:g(function(a,b,d){var e=a.split("");return e.splice(c(b),0,d),e.join("")}),include:g(function(a,b){return a.indexOf(b)!==-1}),join:g(function(a){var b=e(arguments);return b.join(b.shift())}),lines:g(function(a){return a.split("\n")}),reverse:g(function(a){return Array.prototype.reverse.apply(String(a).split("")).join("")}),splice:g(function(a,b,d,e){var f=a.split("");return f.splice(c(b),c(d),e),f.join("")}),startsWith:g(function(a,b){return a.length>=b.length&&a.substring(0,b.length)===b}),endsWith:g(function(a,b){return a.length>=b.length&&a.substring(a.length-b.length)===b}),succ:g(function(a){var b=a.split("");return b.splice(a.length-1,1,String.fromCharCode(a.charCodeAt(a.length-1)+1)),b.join("")}),titleize:g(function(a){var b=a.split(" "),c;for(var d=0;d<b.length;d++)c=b[d].split(""),typeof c[0]!="undefined"&&(c[0]=c[0].toUpperCase()),d+1===b.length?b[d]=c.join(""):b[d]=c.join("")+" ";return b.join("")}),camelize:g(function(a){return h.trim(a).replace(/(\-|_|\s)+(.)?/g,function(a,b,c){return c?c.toUpperCase():""})}),underscored:function(a){return h.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(a){return h.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},humanize:function(a){return h.capitalize(this.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:g(function(a,c){return!c&&b?b.call(a):(c=f(c),a.replace(new RegExp("^["+c+"]+|["+c+"]+$","g"),""))}),ltrim:g(function(a,b){return b=f(b),a.replace(new RegExp("^["+b+"]+","g"),"")}),rtrim:g(function(a,b){return b=f(b),a.replace(new RegExp("["+b+"]+$","g"),"")}),truncate:g(function(a,b,d){return d=d||"...",b=c(b),a.length>b?a.slice(0,b)+d:a}),prune:g(function(a,b,d){var e=function(a){return a.toUpperCase()!=a.toLowerCase()||/[-_\d]/.test(a)},f="",g="",i=0;d=d||"...",b=c(b);for(i in a)f+=e(a[i])?"A":" ";return f.substring(b-1,b+1).search(/^\w\w$/)===0?g=h.rtrim(f.slice(0,b).replace(/([\W][\w]*)$/,"")):g=h.rtrim(f.slice(0,b)),g=g.replace(/\W+$/,""),g.length+d.length>a.length?a:a.substring(0,g.length)+d}),words:function(a,b){return String(a).split(b||" ")},pad:g(function(a,b,e,f){var g="",h=0;b=c(b),e?e.length>1&&(e=e.charAt(0)):e=" ";switch(f){case"right":h=b-a.length,g=d(e,h),a+=g;break;case"both":h=b-a.length,g={left:d(e,Math.ceil(h/2)),right:d(e,Math.floor(h/2))},a=g.left+a+g.right;break;default:h=b-a.length,g=d(e,h),a=g+a}return a}),lpad:function(a,b,c){return h.pad(a,b,c)},rpad:function(a,b,c){return h.pad(a,b,c,"right")},lrpad:function(a,b,c){return h.pad(a,b,c,"both")},toNumber:function(a,b){var d=c(c(a).toFixed(c(b)));return d!==0||a==="0"||a===0?d:Number.NaN},strRight:g(function(a,b){var c=b?a.indexOf(b):-1;return c!=-1?a.slice(c+b.length,a.length):a}),strRightBack:g(function(a,b){var c=b?a.lastIndexOf(b):-1;return c!=-1?a.slice(c+b.length,a.length):a}),strLeft:g(function(a,b){var c=b?a.indexOf(b):-1;return c!=-1?a.slice(0,c):a}),strLeftBack:g(function(a,b){var c=a.lastIndexOf(b);return c!=-1?a.slice(0,c):a}),exports:function(){var a={};for(var b in this){if(!this.hasOwnProperty(b)||b=="include"||b=="contains"||b=="reverse")continue;a[b]=this[b]}return a}};h.strip=h.trim,h.lstrip=h.ltrim,h.rstrip=h.rtrim,h.center=h.lrpad,h.ljust=h.lpad,h.rjust=h.rpad,h.contains=h.include,typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(module.exports=h),exports._s=h):typeof a._!="undefined"?(a._.mixin(h),a._.string=h,a._.str=a._.string):a._={string:h,str:h}}(this||window),!function(a,b){this[a]=b()}("morpheus",function(){function a(a,b){var c={},d;if(d=a.match(t))c.rotate=k(d[1],b?b.rotate:null);if(d=a.match(u))c.scale=k(d[1],b?b.scale:null);if(d=a.match(v))c.skewx=k(d[1],b?b.skewx:null),c.skewy=k(d[3],b?b.skewy:null);if(d=a.match(w))c.translatex=k(d[1],b?b.translatex:null),c.translatey=k(d[3],b?b.translatey:null);return c}function b(a){var b="";return"rotate"in a&&(b+="rotate("+a.rotate+"deg) "),"scale"in a&&(b+="scale("+a.scale+") "),"translatex"in a&&(b+="translate("+a.translatex+"px,"+a.translatey+"px) "),"skewx"in a&&(b+="skew("+a.skewx+"deg,"+a.skewy+"deg)"),b}function c(a,b,c){return"#"+(1<<24|a<<16|b<<8|c).toString(16).slice(1)}function d(a){var b=/rgba?\((\d+),\s*(\d+),\s*(\d+)/.exec(a);return(b?c(b[1],b[2],b[3]):a).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function e(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function f(a){return typeof a=="function"}function g(a,b,c,d,e,g){function h(a){var f=a-m;if(f>i||n)return g=isFinite(g)?g:1,n?o&&b(g):b(g),c&&c.apply(j);isFinite(g)?b(k*d(f/i)+e):b(d(f/i)),B(h)}d=f(d)?d:l.easings[d]||function(a){return Math.sin(a*Math.PI/2)};var i=a||1e3,j=this,k=g-e,m=+(new Date),n=0,o=0;return B(h),{stop:function(a){n=1,o=a,a||(c=null)}}}function h(a,b){var c=a.length,d=[],e,f;for(e=0;e<c;++e)d[e]=[a[e][0],a[e][1]];for(f=1;f<c;++f)for(e=0;e<c-f;++e)d[e][0]=(1-b)*d[e][0]+b*d[parseInt(e+1,10)][0],d[e][1]=(1-b)*d[e][1]+b*d[parseInt(e+1,10)][1];return[d[0][0],d[0][1]]}function i(a,b,c){var d=[],e,f;for(e=0;e<6;e++)from=Math.min(15,parseInt(b.charAt(e),16)),to=Math.min(15,parseInt(c.charAt(e),16)),f=Math.floor((to-from)*a+from),f=f>15?15:f<0?0:f,d[e]=f.toString(16);return"#"+d.join("")}function j(a,b,c,d,e,f,g){if(e=="transform"){g={};for(var h in c[f][e])g[h]=h in d[f][e]?Math.round(((d[f][e][h]-c[f][e][h])*a+c[f][e][h])*1e3)/1e3:c[f][e][h];return g}return typeof c[f][e]=="string"?i(a,c[f][e],d[f][e]):(g=Math.round(((d[f][e]-c[f][e])*a+c[f][e])*1e3)/1e3,e in x||(g+=b[f][e]||"px"),g)}function k(a,b,c,d,e){return(c=r.exec(a))?(e=parseFloat(c[2]))&&b+(c[1]=="+"?1:-1)*e:parseFloat(a)}function l(c,i){var l=c?l=isFinite(c.length)?c:[c]:[],m,n=i.complete,o=i.duration,p=i.easing,r=i.bezier,t=[],u=[],v=[],w=[],x,B;delete i.complete,delete i.duration,delete i.easing,delete i.bezier,r&&(x=i.left,B=i.top,delete i.right,delete i.bottom,delete i.left,delete i.top);for(m=l.length;m--;){t[m]={},u[m]={},v[m]={};if(r){var C=A(l[m],"left"),D=A(l[m],"top"),E=[k(f(x)?x(l[m]):x||0,parseFloat(C)),k(f(B)?B(l[m]):B||0,parseFloat(D))];w[m]=f(r)?r(l[m],E):r,w[m].push(E),w[m].unshift([parseInt(C,10),parseInt(D,10)])}for(var F in i){var G=A(l[m],F),H,I=f(i[F])?i[F](l[m]):i[F];if(typeof I=="string"&&q.test(I)&&!q.test(G)){delete i[F];continue}t[m][F]=F=="transform"?a(G):typeof I=="string"&&q.test(I)?d(G).slice(1):parseFloat(G),u[m][F]=F=="transform"?a(I,t[m][F]):typeof I=="string"&&I.charAt(0)=="#"?d(I).slice(1):k(I,parseFloat(G)),typeof I=="string"&&(H=I.match(s))&&(v[m][F]=H[1])}}return g.apply(l,[o,function(a,c,d){for(m=l.length;m--;){r&&(d=h(w[m],a),l[m].style.left=d[0]+"px",l[m].style.top=d[1]+"px");for(var f in i)c=j(a,v,t,u,f,m),f=="transform"?l[m].style[y]=b(c):f=="opacity"&&!z?l[m].style.filter="alpha(opacity="+c*100+")":l[m].style[e(f)]=c}},n,p])}var m=this,n=document,o=window,p=n.documentElement,q=/^rgb\(|#/,r=/^([+\-])=([\d\.]+)/,s=/^(?:[\+\-]=)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,t=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,u=/scale\(((?:[+\-]=)?([\d\.]+))\)/,v=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,w=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,x={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},y=function(){var a=n.createElement("a").style,b=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],c;for(c=0;c<b.length;c++)if(b[c]in a)return b[c]}(),z=function(){return typeof n.createElement("a").style.opacity!="undefined"}(),A=n.defaultView&&n.defaultView.getComputedStyle?function(a,b){b=b=="transform"?y:b;var c=null,d=n.defaultView.getComputedStyle(a,"");return d&&(c=d[e(b)]),a.style[b]||c}:p.currentStyle?function(a,b){b=e(b);if(b=="opacity"){var c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{c=a.filters("alpha").opacity}catch(f){}}return c/100}var g=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||g}:function(a,b){return a.style[e(b)]},B=function(){return o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(a){o.setTimeout(function(){a(+(new Date))},10)}}();return l.tween=g,l.getStyle=A,l.bezier=h,l.transform=y,l.parseTransform=a,l.formatTransform=b,l.easings={},l});var Env={};Env.defaultEnvironment="prod";var Constants={},Builder={},Ajax={},Util={},Effect={},Event={},Data={},Auth={},UUID={},QueryString={},Playlist={},PlayerHtml5={},Ad={},WMClass=function(){},_=window._.noConflict();Constants.IPHONE_PATTERN=/iPhone/i,Constants.IPOD_PATTERN=/iPod/i,Constants.IPAD_PATTERN=/iPad/i,Constants.ANDROID_PATTERN=/Android/i,Constants.GOOGLEBOT_PATTERN=/Googlebot/i,Constants.GOOGLE_WEB_PREVIEW_PATTERN=/Google Web Preview/i,Constants.VIDEO_URL_PATTERNS=[/[A-Z]{3}([1-9][0-9]*)-/,/\/([1-9][0-9]*)(?:\/|\?|#|$)/,/\/[0-9]*x[0-9]+\/([1-9][0-9]*)\.jpg/,/(?:\.video\.globoi\.com|\.video\.globo\.com|\.video\.glbimg\.com|\.video\.qa01\.globoi\.com)\/GMC\/foto\/[0-9],,([1-9][0-9]*)[\-a-zA-Z]*,[0-9]{2}\.jpg/],function(a){var b=!1,c=!0,d=/xyz/.test(function(){return c})?/\b_super\b/:/.*/;a.extend=function(a){function g(){!b&&this.init&&this.init.apply(this,arguments)}var c=this.prototype;b=!0;var e=new this;b=!1;for(var f in a)e[f]=typeof a[f]=="function"&&typeof c[f]=="function"&&d.test(a[f])?function(a,b){return function(){var d=this._super;this._super=c[a];var e=b.apply(this,arguments);return this._super=d,e}}(f,a[f]):a[f];return g.prototype=e,g.prototype.constructor=g,g.extend=arguments.callee,g}}(WMClass),Env.environment=Env.defaultEnvironment,Env.isTest=function(){return!1},Env.isInternal=function(){return/\.globoi\.com$/.test(Util.getHostname())},Env.isGloboDomain=function(){return Env.isInternal()&&Env.environment==="qa1"||/\.globo\.com$/.test(Util.getHostname())};var thumbHostTemplate=_.template("s0<%=index%>.video.glbimg.com");Env.HOSTS={API:{qa1:"api.video.qa01.globoi.com",internal:"api.video.globoi.com",live:"api.globovideos.com"},SECURITY:{qa1:"security.video.qa01.globoi.com",internal:"security.video.globo.com",live:"security.video.globo.com"},PLAYER:{qa1:"s.videos.cma.qa01.globoi.com",internal:"s.videos.globo.com",live:"s.videos.globo.com"},CADUN:{qa1:"login.qa01.globoi.com",internal:"login.globo.com",live:"login.globo.com"},THUMB:{qa1:"img.video.qa01.globoi.com",internal:thumbHostTemplate,live:thumbHostTemplate}},Env.apiHostname=function(){return hostForEnvironment(Env.HOSTS.API)},Env.securityHostname=function(){return hostForEnvironment(Env.HOSTS.SECURITY)},Env.playerHostname=function(){return hostForEnvironment(Env.HOSTS.PLAYER)},Env.cadunHostname=function(){return hostForEnvironment(Env.HOSTS.CADUN)},Env.thumbHostname=function(a){return hostForEnvironment(Env.HOSTS.THUMB,{index:a.videoID%4+1})};var Templates={objectTag:_.template('<object id="<%=objectId%>" width="100%" height="100%" data="<%=swfUrl%>" type="application/x-shockwave-flash"><param value="true" name="allowFullScreen"><param value="always" name="allowScriptAccess" /><param value="high" name="quality" /><param value="<%=wmode%>" name="wmode" /><param value="#000000" name="bgcolor" /><param value="<%=swfUrl%>" name="movie" /><param value="<%=flashvars%>" name="flashvars" /></object>'),videoTag:_.template('<video width="100%" height="100%" src="<%=src%>" controls="controls" style="background-color: black;" poster="<%=poster%>"></video>'),errorPage:_.template('<div class="wm-error"><img src="<%=ops_url%>" /><div class="wm-error-title"><%=title%></div><div class="wm-error-description"><%=description%></div><div class="wm-error-code">Código do Erro - <span class="wm-error-code-number"><%=code%></span></div></div>'),iframeBanner:_.template('<iframe width="<%=width%>" height="<%=height%>" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="<%=data%>"></iframe>')};QueryString.PLAYER_PARAMS_PREFIX="wmp_",QueryString.parse=function(a,b){var c=[];b=_(b).isUndefined()?"":b;if(a){var d=a.split("?")[1];d&&(c=d.split("&"))}return _(c).reduce(function(a,c){var d=c.split("="),e=d[0].toLowerCase();return _(e).startsWith(b)&&(e=e.substring(b.length),a[e]=QueryString.parseValue(d[1])),a},{})},QueryString.parseValue=function(a){return a===undefined||a=="true"?!0:a=="false"?!1:a},Ajax.jsonp=function(a){a.callbackName=a.callbackName||"json_callback",a.timeout=a.timeout||1e4,window[a.callbackName]=function(b){Ajax.isErrorObject(b)?a.error(b):a.success(b)};var b=Util.head(),c=document.createElement("script");c.setAttribute("src",a.url),c.setAttribute("async","async"),c.onload=c.onreadystatechange=function(d){if(!c.readyState||/loaded|complete/.test(c.readyState))a.timeoutId&&window.clearTimeout(a.timeoutId),c.onload=c.onreadystatechange=null,b&&c.parentNode&&b.removeChild(c),c=undefined},b.insertBefore(c,b.firstChild),a.error&&(a.timeoutId=window.setTimeout(a.error,a.timeout))},Ajax.isErrorObject=function(a){return a&&a.http_status_code&&a.http_status_code!=200},Util.Exception=function(a){this.message=a},Util.firstOnLower=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},function(){var a=/^[\],:{}\s]*$/,b=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,c=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,d=/(?:^|:|,)(?:\s*\[)+/g;Util.parseJSON=function(e){if(typeof e!="string"||!e)return null;e=_(e).trim();if(window.JSON&&window.JSON.parse)try{return window.JSON.parse(e)}catch(f){throw new Util.Exception("Invalid JSON: "+e)}if(a.test(e.replace(b,"@").replace(c,"]").replace(d,"")))return(new Function("return "+e))();throw new Util.Exception("Invalid JSON: "+e)}}(),Util.getUserAgent=function(){return navigator.userAgent},Util.getHostname=function(){return location.hostname},Util.getCurrentUrl=function(){return location.href},Util.isIPhone=function(){var a=Util.getUserAgent();return Constants.IPHONE_PATTERN.test(a)||Constants.IPOD_PATTERN.test(a)},Util.isIPad=function(){return Constants.IPAD_PATTERN.test(Util.getUserAgent())},Util.isAndroid=function(){return Constants.ANDROID_PATTERN.test(Util.getUserAgent())},Util.isGoogleBot=function(){return Constants.GOOGLEBOT_PATTERN.test(Util.getUserAgent())||Constants.GOOGLE_WEB_PREVIEW_PATTERN.test(Util.getUserAgent())},Util.isIE=function(){return window.ActiveXObject},Util.isHtml5VideoSupported=function(){return Util.canPlayType("mp4")},Util.canPlayType=function(a){var b=document.createElement("video");return b.canPlayType("video/"+a.split("?")[0].split(".").pop())!==""},Util.navigateTo=function(a){window.location.href=a},Util.isPrivate=function(a){return a.indexOf("_")===0},Util.isPrimitive=function(a){return!(_.isUndefined(a)||_.isFunction(a)||Util.isObject(a))},Util.isObject=function(a){return typeof a=="object"},Util.createElement=function(a){var b=document.createElement(a.tagName||"div");return delete a.tagName,a.id&&(b.setAttribute("id",a.id),delete a.id),a.className&&(b.className=a.className,delete a.className),Util.updateStyle(b,a),b},function(){var a;document.getElementsByClassName?a=function(a,b,c){return a.getElementsByClassName(c)}:a=function(a,b,c){var d=b=="*"&&a.all?a.all:Util.byTag(b,a),e=new RegExp("(^|\\s)"+c.replace(/\-/g,"\\-")+"(\\s|$)");return _(d).reduce(function(a,b){return e.test(b.className)&&a.push(b),a},[])},Util.getElementsByClassName=a,Util.getFirstElementByClassName=function(b,c){var d=a(b,"*",c);return d.length>0?d[0]:null}}(),Util.byId=function(a){return document.getElementById(a)},Util.byTag=function(a,b){return b=b||document,b.getElementsByTagName(a)},Util.firstByTag=function(a,b){return Util.byTag(a,b)[0]},Util.getStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?document.defaultView.getComputedStyle(a,null).getPropertyValue(b):null},Util.updateStyle=function(a,b){_(b).each(function(b,c){c=="opacity"?(a.style.opacity=b,a.style.filter="alpha(opacity="+b*100+")"):a.style[c]=b})},Util.updateStyleWithUnit=function(a,b,c){c=c||"px",Util.updateStyle(a,_(b).reduce(function(a,b,d){return a[d]=b+c,a},{}))},Util.getDefaultDisplay=function(a){var b=_(a).has("defaultDisplay")&&_(a.defaultDisplay).isString();if(!b){var c=document
.createElement(a.nodeName),d=Util.body();d.appendChild(c),a.defaultDisplay=Util.getStyle(c,"display"),d.removeChild(c)}return a.defaultDisplay},Util.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,arguments)},Util.getCookie=function(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return b?window.unescape(b[2]):null},Util.setCookie=function(a,b,c,d){var e;d=d&&d!="localhost"?" domain="+d:"";if(c){var f=new Date;f.setTime(f.getTime()+c*24*60*60*1e3),e="; expires="+f.toGMTString()}else e="";return document.cookie=a+"="+b+e+"; path=/;"+d,b},Util.getTopLevelDomain=function(){var a=Util.getHostname(),b=a;return _(a).endsWith("globo.com")?b=".globo.com":_(a).endsWith("globoi.com")&&(b=".globoi.com"),b},Util.head=function(){return document.head||Util.firstByTag("head")},Util.body=function(){return document.body||Util.firstByTag("body")};var checkExistenceOfPushedStyle;(function(){checkExistenceOfPushedStyle=function(a){return a&&_(Util.byTag("style")).any(function(b){return b.pushName&&b.pushName==a})},Util.pushCss=function(a,b){if(checkExistenceOfPushedStyle(b))return;var c=document.createElement("style");c.type="text/css",c.media="all",c.rel="stylesheet",b&&(c.pushName=b);var d=document.createTextNode(a.join("\n"));c.styleSheet?c.styleSheet.cssText=d.nodeValue:c.appendChild(d),Util.head().appendChild(c)}})(),Util.getCurrentDate=function(){return new Date},Util.getCurrentTime=function(){return Util.getCurrentDate().getTime()},Util.mergeObjects=function(a,b){var c={};_(a).forEach(function(d,e){var f=e.toLowerCase();c[f]=1,a[e]=b[f]!==undefined?b[f]:a[e]}),_(b).forEach(function(d,e){c[e]||(a[e]=b[e])})},Util.getUrlParameters=function(a){return QueryString.parse(Util.getCurrentUrl(),a)},Util.hasFlashInstalled=function(){try{return!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){}var b=Util.getMimeType("application/x-shockwave-flash");return!!b&&!!b.enabledPlugin},Util.getMimeType=function(a){return navigator.mimeTypes[a]},Util.clearElement=function(a){try{if(a.hasChildNodes())while(a.childNodes.length>=1)a.removeChild(a.firstChild)}catch(b){Util.log(b)}a.innerHTML=""},Util.toCallbackFunction=function(a,b){var c=b[a.toLowerCase()]||b[a],d;if(c){if(!_(c).isFunction())try{c=(new Function("return "+c))()}catch(e){Util.log(e)}if(_(c).isFunction()){var f=_.bind(c,b),g=function(){try{f()}catch(b){Util.log("error executing callback: ",a,b)}};d=b[a]=g}}return d},Util.callCallbackFunction=function(a,b){var c=Util.toCallbackFunction(a,b);c&&c({type:a})},Util.extractIdFromURL=function(a){for(var b=0;b<Constants.VIDEO_URL_PATTERNS.length;b++){var c=Constants.VIDEO_URL_PATTERNS[b].exec(a);if(c&&c[1])return c[1]}return null},Util.thumbURL=function(a){var b=Env.thumbHostname(a),c=a.width||"";return"http://"+b+"/"+c+"x"+a.height+"/"+a.videoID+".jpg"};var Metrics=WMClass.extend({_account:"UA-296593-12",_trackerName:"WMPlayer",init:function(a){a=a||{},this._account=a.account||this._account,this._trackerName=a.trackerName===undefined?this._trackerName:a.trackerName,this._formatTrackerName(),this._initializeGAQ(),this.push([this._trackerName+"_setAccount",this._account]),this.push([this._trackerName+"_trackPageview"]),this._loadScript(),this._loadOmniture()},push:function(a){window._gaq.push(a)},open:function(a){a.trackOnOmniture&&this._notifyOmniture("open",[a.title,parseInt(a.duration,10),Metrics.PLAYER_NAME])},play:function(a){a.trackOnGA&&(this.push([this._trackerName+"_trackPageview",this._pageview(Metrics.PLAY_TEMPLATE_URL,a)]),this.push([this._trackerName+"_trackEvent","Videos","Play",a.videoID+" - "+a.title])),a.trackOnOmniture&&this._notifyOmniture("play",[a.title,parseInt(a.currentTime,10)||0])},pause:function(a){a.trackOnOmniture&&this._notifyOmniture("stop",[a.title,parseInt(a.currentTime,10)])},end:function(a){this.push([this._trackerName+"_trackPageview",this._pageview(Metrics.END_TEMPLATE_URL,a)]),this.push([this._trackerName+"_trackEvent","Videos","End Of The Video",a.videoID+" - "+a.title]),a.trackOnOmniture&&(this._notifyOmniture("stop",[a.title,parseInt(a.currentTime,10)]),this._notifyOmniture("close",[a.title]))},_formatTrackerName:function(){this._trackerName=this._trackerName.length>0?this._trackerName+".":this._trackerName},_initializeGAQ:function(){window._gaq=window._gaq||[]},_loadScript:function(){if(!window._gat){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=Util.firstByTag("script");b.parentNode.insertBefore(a,b)}},_loadOmniture:function(){if(!window.s){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="http://"+Env.playerHostname()+"/p2/j/s_code.js";var b=Util.firstByTag("script");b.parentNode.insertBefore(a,b)}},_pageview:function(a,b){return a(_({category:b.category.substr(0,3).toUpperCase()}).defaults(b))},_notifyOmniture:function(a,b){var c=window.s;if(c&&c.Media){var d=c.Media;d[a].apply(d,b)}}});Metrics.getDefaultInstance=function(){return Metrics._defaultInstance=Metrics._defaultInstance||new Metrics},Metrics.PLAY_TEMPLATE_URL=_.template("/use/play/<%=channel%>/<%=program%>/<%=category%>/<%=videoID%>"),Metrics.END_TEMPLATE_URL=_.template("/use/end/<%=channel%>/<%=program%>/<%=category%>/<%=videoID%>"),Metrics.PLAYER_NAME="Globo Player",Playlist.CALLBACK_TEMPLATE="wmPlayerPlaylistLoaded<%=playerId%>",Playlist.urlFor=function(a,b,c){return b=_(b).isEmpty()?"":"/profile/"+b,"http://"+Env.apiHostname()+"/videos/"+a+"/playlist"+b+"/callback/"+c},Playlist.load=function(a){var b=Playlist._callbackNameFor(a.playerId);Ajax.jsonp({url:Playlist.urlFor(a.videoID,a.profile,b),callbackName:b,success:a.success,error:a.error})},Playlist._callbackNameFor=function(a){var b={playerId:a>0?a:""};return _.template(Playlist.CALLBACK_TEMPLATE,b)},Playlist._isTargetDeviceEqual=function(a,b){return a.target_device&&_(a.target_device).indexOf(b)>=0},Playlist._isPlayerTypeEqual=function(a,b){return a.player_type&&_(a.player_type).indexOf(b)>=0},Playlist._findResource=function(a,b,c,d){var e={};return _(a.resources).forEach(function(a){if(Playlist._isTargetDeviceEqual(a,b)&&Playlist._isPlayerTypeEqual(a,c))return e=a}),e.url||_(a.resources).forEach(function(a){if(d===a.kind)return e=a}),e.id=e._id,e.target_device&&(e.targetDevice=e.target_device),e.player_type&&(e.playerType=e.player_type),e},Playlist._isVideoIndexAvailable=function(a,b){return a&&a.videos&&a.videos.length>b},Playlist._isChildrenIndexAvailable=function(a,b){return!!(a.children&&a.children.length>b)},Playlist.isGalleryOrFullEpisode=function(a){return Playlist._isChildrenIndexAvailable(a,0)},Playlist._getVideo=function(a,b,c){var d=a.videos[b];return Playlist._isChildrenIndexAvailable(d,c)?d.children[c]:d},Playlist.getResource=function(a,b,c){var d={};b=b||0,c=c||0;if(Playlist._isVideoIndexAvailable(a,b)){var e=Playlist._getVideo(a,b,c);Util.isIPhone()?d=Playlist._findResource(e,"iphone","html5","M4"):Util.isIPad()?(d=Playlist._findResource(e,"ipad","html5","H4"),d.url&&d.url.indexOf("rtmp")===0?d=Playlist._findResource(e,"iphone","html5","M4"):d.url&&(d.url=d.url.replace("flashvideo","ipadvideo"))):Util.isAndroid()?d=Playlist._findResource(e,"android","html5","M4"):(d=Playlist._findResource(e,"web","flash","H4"),d.url||(d=Playlist._findResource(e,"web","flash","FS")))}return d},Playlist.totalChildren=function(a,b){if(Playlist._isVideoIndexAvailable(a,b)){var c=a.videos[b];return c.children?c.children.length:1}return 1},Playlist.getServiceId=function(a){if(Playlist._isVideoIndexAvailable(a,0))return a.videos[0].service_id},Playlist.parametersForMetrics=function(a,b){if(Playlist._isVideoIndexAvailable(a,b)){var c=a.videos[b];return{channel:c.channel,program:c.program,category:c.category,title:c.title,videoID:c.id,duration:c.duration}}return{}},Playlist.hasSubscriberOnly=function(a){if(Playlist._isVideoIndexAvailable(a,0)){var b=!1;return _(a.videos).forEach(function(a){a.subscriber_only&&(b=!0)}),b}return!0},function(){function a(a,b,c,d){c=[].concat(c||[]),_(c).each(function(c){b.addEventListener||b.removeEventListener?a.call(b,c,d,!1):(b.attachEvent||b.detachEvent)&&a("on"+c,d)})}Event.addListener=function(b,c,d){var e=b.addEventListener||b.attachEvent;a(e,b,c,d)},Event.removeListener=function(b,c,d){var e=b.removeEventListener||b.detachEvent;a(e,b,c,d)}}();var ErrorPage=WMClass.extend({init:function(a){this.rendered=!1,this.width=a.width,this.height=a.height,this.element=a.element,this.errorMessages=[ErrorPage.DEFAULT_MESSAGE,ErrorPage.GEO_BLOCKED,ErrorPage.NOT_FOUND,ErrorPage.DEVICE_NOT_SUPPORTED],this._mergeWithErrorMessages(a.errorMessages),this.ops_url="http://"+Env.playerHostname()+"/p2/i/ops.png"},render:function(a){var b=a?a:ErrorPage.DEFAULT_MESSAGE.code,c=this.messageFor(b);this._applyCss(),Util.clearElement(this.element),this.element.innerHTML=Templates.errorPage({ops_url:this.ops_url,title:c.title,description:c.description,code:c.code}),this.rendered=!0,this.resize()},isNotFound:function(a){return a&&a.http_status_code==404},isGeoBlocked:function(a){return a&&a.http_status_code==403&&a.code=="GB"},isNotAuthorized:function(a){return a&&a.http_status_code==403&&a.code=="AUT"},messageFor:function(a){return _(this.errorMessages).find(function(b){return b.code.toLowerCase()==a.toLowerCase()})},_mergeWithErrorMessages:function(a){_(a).forEach(function(a){var b=this.messageFor(a.code);b&&this.errorMessages.splice(_(this.errorMessages).indexOf(b),1),this.errorMessages.push(a)},this)},_applyCss:function(){Util.pushCss(this._cssRules(),"wm-error")},resize:function(a){a=a||{},this.width=a.width||this.width,this.height=a.height||this.height;if(this.element&&this.rendered){var b=Util.getFirstElementByClassName(this.element,"wm-error");if(b){var c=this._getSizeClass();b.className=b.className.replace(/(\s?wm-error-small)+/,"").replace(/(\s?wm-error-big)+/,""),b.className+=" "+c}}},_getSizeClass:function(){return this.height===undefined||this.height>240?"wm-error-big":"wm-error-small"},_cssRules:function(){return[".wm-error { background-color: #2C2C2C; font-family: Arial; width: 100%; height: 100%; position: relative; }",".wm-error img { border: 0; }",".wm-error-title { color: #999999; }",".wm-error-description { color: #838383; }",".wm-error-code { color: #838383; position: absolute; }",".wm-error-code-number { color: #D5D5D5; }",".wm-error a, .wm-error a:visited { text-decoration: underline; color: #B6B6B6; }",".wm-error a:hover { color: #ECECEC; }",".wm-error-big img { height: 73px; margin: 38px 0 0 38px; }",".wm-error-big .wm-error-title { font-size: 22px; margin: 30px 38px 0 38px; }",".wm-error-big .wm-error-description { font-size: 12px; margin: 24px 38px 0 38px; }",".wm-error-big .wm-error-code { font-size: 10px; margin: 0 38px; bottom: 38px}",".wm-error-small img { height: 54px; margin: 20px 0 0 20px; }",".wm-error-small .wm-error-title { font-size: 18px; margin: 5px 20px 0 20px; }",".wm-error-small .wm-error-description { font-size: 10px; margin: 18px 20px 0 20px; }",".wm-error-small .wm-error-code { font-size: 8px; margin: 0 20px; bottom: 20px}"]}});ErrorPage.DEFAULT_MESSAGE={title:"Não foi possível exibir o vídeo!",description:'Ocorreu um problema ao tentar carregar o vídeo. Tente <a href="" onclick="window.location.reload(); return false;">recarregar</a> a sua página.',code:"load-error"},ErrorPage.GEO_BLOCKED={title:"O vídeo não pode ser exibido nessa região",description:"Infelizmente este vídeo não está disponível para ser exibido na sua região ou país. Desculpe-nos pelo inconveniente.",code:"GB"},ErrorPage.NOT_FOUND={title:"Conteúdo não disponível.",description:"Infelizmente este vídeo não está disponível. Desculpe-nos pelo inconveniente.",code:"NF"},ErrorPage.DEVICE_NOT_SUPPORTED={title:"Dispositivo não suportado.",description:"Infelizmente o seu dispositivo não possui os requisitos mínimos para exibir esse vídeo.",code:"DNS"};var Message={interval_id:null,last_hash:null,cache_bust:1,has_postMessage:window.postMessage,rm_callback:null,post:function(a,b,c){if(!b)return;if(typeof a!="string")return;c=c||parent,Message.has_postMessage?c.postMessage(a,b.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):b&&(c.location=b.replace(/#.*$/,"")+"#"+ +(new Date)+Message.cache_bust++ +"&"+a)},receive:function(a,b,c){Message.has_postMessage?a?(Message.rm_callback&&Message.receive(),Message.rm_callback=function(c){if(typeof b=="string"&&c.origin!==b||_.isFunction(b)&&b(c.origin)===!1)return!1;a(c)},Event.addListener(window,"message",Message.rm_callback)):Event.removeListener(window,"message",Message.rm_callback):(Message.interval_id&&clearInterval(Message.interval_id),Message.interval_id=null,a&&(c=typeof b=="number"?b:typeof c=="number"?c:100,Message.interval_id=setInterval(function(){var b=document.location.hash,c=/^#?\d+&/;b!==Message.last_hash&&c.test(b)&&(document.location.hash=null,Message.last_hash=b,a({data:b.replace(c,"")}))},c)))}};Effect.tween=function(a,b){if(_(b.easing).isFunction()&&b.duration){var c=b.easing,d=b.duration,e=b.onUpdate;delete b.onUpdate,b.easing=function(a){return e(),c(a,d)}}window.morpheus(a,b)},Effect.easeInOutExpo=function(a,b){return a*=1e3,a===0?0:(a/=b/2)<1?Math.pow(2,10*(a-1))/2:(-Math.pow(2,-10*--a)+2)/2},Effect.show=function(a){Util.updateStyle(a,{display:Util.getDefaultDisplay(a),visibility:"visible"})},Effect.hide=function(a){a.style.display="none"},Effect.showAll=function(a){_(a).each(Effect.show)},Effect.hideAll=function(a){_(a).each(Effect.hide)},Effect.Fade=WMClass.extend({init:function(a){this.elements=[].concat(a.element||[]).concat(a.elements||[]),_(this).chain().extend(a).defaults({maxFade:1,maxFadeOut:0,duration:500,complete:function(){}})},fadeIn:function(){this._stop(),Effect.showAll(this.elements),this.animation=Effect.tween(this.elements,{opacity:this.maxFade,duration:this.duration,complete:this.complete})},fadeOut:function(){var a=this.elements,b=this.complete,c=this.maxFadeOut;this._stop(),this.animation=Effect.tween(a,{opacity:c,duration:this.duration,complete:function(){c===0&&Effect.hideAll(a),b()}})},_stop:function(){this.animation&&this.animation.stop()}}),Effect.Light=WMClass.extend({init:function(a,b,c){this.element=a,this.zIndex=b||1e5,this.wrapperId="wm-player-shadow-wrapper",_(this).extend(c),_(this).bindAll("resizeAndPosition","_onResizeOrScroll")},on:function(){this.onLightOnStart&&this.onLightOnStart({type:"onLightOnStart"}),this._prepare(),this._removeListeners(),this._onCompleteFunction="onLightOnComplete",this._fade().fadeOut()},off:function(){this.onLightOffStart&&this.onLightOffStart({type:"onLightOffStart"}),this._prepare(),this._addListeners(),this._onCompleteFunction="onLightOffComplete",this._fade().fadeIn()},resizeAndPosition:function(){var a=this._displayedRectangle(),b=Math.max(document.documentElement.scrollLeft,Util.body().scrollLeft)+Effect.clientWidth(),c=Effect.clientHeight();this._updatePosition("left",a.top,0,a.left,a.bottom-a.top),this._updatePosition("top",0,0,b,a.top),this._updatePosition("right",a.top,a.right,b-a.right,a.bottom-a.top),this._updatePosition("bottom",a.bottom,0,b,c-a.bottom)},_prepare:function(){this._createShadow(),this.resizeAndPosition()},_removeListeners:function(){Event.removeListener(window,["resize","scroll"],this._onResizeOrScroll)},_addListeners:function(){Event.addListener(window,["resize","scroll"],this._onResizeOrScroll)},_fade:function(){return this._wrapper().wmFade},_wrapper:function(){return Util.byId(this.wrapperId)},_hasShadow:function(){return _(this._wrapper()).isElement()},_createShadow:function(){if(!this._hasShadow()){var a=Util.createElement({id:this.wrapperId}),b=_(["left","top","right","bottom"]).map(function(b){return _(this._createShadowElement(b)).tap(function(b){a.appendChild(b)})},this),c=this;this._complete=function(){c._onComplete()},a.wmFade=new Effect.Fade({elements:b,maxFade:.8,complete:this._complete}),Util.body().appendChild(a)}},_createShadowElement:function(a){return Util.createElement({id:"wm-player-shadow-"+a,backgroundColor:"#000000",position:"absolute",zIndex:this.zIndex,display:"none",opacity:0})},_onComplete:function(){var a=this[this._onCompleteFunction];a&&a({type:this._onCompleteFunction})},_onResizeOrScroll:function(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.resizeAndPosition,10)},_updatePosition:function(a,b,c,d,e){var f=Util.byId("wm-player-shadow-"+a);f&&d>0&&e>0&&Util.updateStyleWithUnit(f,{top:b,left:c,width:d,height:e})},_displayedRectangle:function(){var a=0,b=0,c=0,d=0,e=this.element;if(e.offsetParent){do b+=e.offsetTop,a+=e.offsetLeft;while(e=e.offsetParent);c=this.element.offsetWidth+a,d=this.element.offsetHeight+b}return{left:a,top:b,right:c,bottom:d}}}),Effect.clientHeight=function(){var a=window.innerHeight?window.innerHeight:0,b=document.documentElement?document.documentElement.clientHeight:0,c=document.documentElement?document.documentElement.scrollHeight:0,d=Util.body()?Util.body().clientHeight:0;return Math.max(a,Math.max(b,Math.max(c,d)))},Effect.clientWidth=function(){var a=window.innerWidth?window.innerWidth:Number.MAX_VALUE,b=document.documentElement?document.documentElement.clientWidth:Number.MAX_VALUE,c=Util.body()?Util.body().clientWidth:Number.MAX_VALUE;return Math.min(a,Math.min(b,c))},Effect.Lightbox=WMClass.extend({init:function(a){_(this).bindAll("_closedByUser","_alignLightbox"),this.body=Util.body(),this.element=a.element,this.onClose=a.onClose,this._applyCss(),this._createElements(),this._bindEvents(),this._appendElements(),this._alignLightbox(),this.fadeOverlay=new Effect.Fade({element:this.overlay,duration:300,maxFade:.6}),this.fadeInnerWrapper=new Effect.Fade({element:this.innerWrapper,duration:200})},open:function(){Effect.show(this.wrapper),this.fadeOverlay.fadeIn(),this.fadeInnerWrapper.fadeIn()},close:function(){this.fadeInnerWrapper.fadeOut(),this.fadeOverlay.fadeOut(),Effect.hide(this.wrapper)},resize:function(a){Util.updateStyleWithUnit(this.element,a),this._alignLightbox()},_closedByUser:function(){this.onClose&&this.onClose(),this.close()},_bindEvents:function(){this.closeButton.onclick=this._closedByUser,Event.addListener(window,["resize","scroll"],this._alignLightbox)},_alignLightbox:function(){var a=this._getStyleIntValue("width"),b=this._getStyleIntValue("height");if(a&&b){var c=Effect.clientWidth(),d=window.innerHeight||document.documentElement.clientHeight||this.body.clientHeight,e=c/2-a/2,f=d/2-b/2;Util.updateStyleWithUnit(this.innerWrapper,{left:e,top:f})}},_getStyleIntValue:function(a){return parseInt(Util.getStyle(this.element,a).replace(/\D+/,""),10)},_createElements:function(){this.overlay=Util.createElement({className:"wm-lightbox-black-overlay",opacity:0}),this.outerWrapper=Util.createElement({className:"wm-lightbox-outer-wrapper"}),this.innerWrapper=Util.createElement({className:"wm-lightbox-inner-wrapper",opacity:0}),this.content=Util.createElement({className:"wm-lightbox-content"}),this.closeButton=Util.createElement({className:"wm-lightbox-close"}),this.wrapper=Util.createElement({className:"wm-lightbox-wrapper",display:"none"})},_appendElements:function(){this.content.appendChild(this.element),this.innerWrapper.appendChild(this.content),this.innerWrapper.appendChild(this.closeButton),this.outerWrapper.appendChild(this.innerWrapper),this.wrapper.appendChild(this.outerWrapper),Effect.show(this.element),this.body.appendChild(this.overlay),this.body.appendChild(this.wrapper)},_applyCss:function(){var a="http://"+Env.playerHostname()+"/p2/i/close.png",b=[".wm-lightbox-black-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: black; z-index: 100000; }",".wm-lightbox-wrapper { z-index: 100001; position: fixed; top: 0; left: 0; width: 100%; height: 100%; }",".wm-lightbox-outer-wrapper { position: relative; width: 100%; height: 100%; }",".wm-lightbox-inner-wrapper { position: absolute; z-index: 100002; padding-top: 11px; }",".wm-lightbox-content { float: left; } ",".wm-lightbox-close { z-index: 100003; cursor: pointer; width: 24px; height: 24px; float: left; background:url('"+a+"') no-repeat transparent; margin-left: -12px; margin-top: -10px; position: relative; }"];Util.pushCss(b,"wm-lightbox")}});var Poster=WMClass.extend({init:function(){_(this).bindAll("_showImage","_onClick","_mouseover","_mouseout")},render:function(a){this._hasChanged(a)&&(this._settings=a,this._create(),this.enable()),a.callback&&(this._settings.callback=a.callback)},resize:function(a){if(!this._settings)return;this._settings.width=a.width,this._settings.height=a.height;var b=this._settings.width/2-58.5,c=this._settings.height/2-49;Util.updateStyleWithUnit(this.play,{top:c,left:b}),Util.updateStyleWithUnit(this.wrapper,{width:this._settings.width,height:this._settings.height}),this.image.src=Util.thumbURL({height:Poster._fixHeight(this._settings.height),videoID:this._settings.videoID}),this._applyLetterbox()},disable:function(){this._disabled=!0,this._disableEffects(),Effect.hide(this.play),this.innerWrapper.style.cursor="default"},enable:function(){this._disabled=!1,Effect.show(this.play),this.innerWrapper.style.cursor="pointer",this._enableEffects()},_onClick:function(){this._disabled||(this.disable(),this._settings.callback())},_create:function(){this._applyCss(),this._createImage(),this._createPlayIcon(),this._createInnerWrapper(),this._createWrapper(),this.resize(this._settings),this._settings.element.appendChild(this.wrapper)},_hasChanged:function(a){return this._settings===undefined||this._settings.videoID!==a.videoID||this._settings.width!==a.width||this._settings.height!==a.height},_applyCss:function(a){var b="http://"+Env.playerHostname()+"/p2/i/play.png",c=[".wm-poster-wrapper { background: black; }",".wm-poster-inner-wrapper { position: relative; width: 100%; height: 100%; }",".wm-poster-inner-wrapper img { visibility:hidden; } ",".wm-poster-inner-wrapper:hover { cursor: pointer; }",".wm-poster-play { background:url('"+b+"') no-repeat transparent; } ",".wm-poster-play { width:117px; height:98px; position:absolute; }"];Util.isIE()&&(c.push(".wm-poster-play { background-position: 0px -97px; }"),c.push(".wm-poster-inner-wrapper:hover .wm-poster-play { background-position: 0px 0px; }")),Util.pushCss(c,"wm-poster")},_enableEffects:function(){Util.isIE()||(this.fade=new Effect.Fade({element:this.play,duration:300,maxFadeOut:Poster.MAX_FADE_OUT}),Event.addListener(this.innerWrapper,"mouseover",this._mouseover),Event.addListener(this.innerWrapper,"mouseout",this._mouseout),this.fade.fadeOut())},_mouseover:function(a){this.fade.fadeIn()},_mouseout:function(a){var b=a.toElement||a.relatedTarget||null;b&&_(Poster.CLASSES).indexOf(b.getAttribute("class"))==-1&&this.fade.fadeOut()},_disableEffects:function(){this.innerWrapper.onmouseover=function(a){},this.innerWrapper.onmouseout=function(a){}},_createImage:function(){this.image=new Image,this.image.className="wm-poster-image",this.image.onload=this._showImage},_createPlayIcon:function(){this.play=Util.createElement({className:"wm-poster-play"}),Util.isIE()||Util.updateStyle(this.play,{opacity:Poster.MAX_FADE_OUT})},_createInnerWrapper:function(){this.innerWrapper=Util.createElement({className:"wm-poster-inner-wrapper"}),this.innerWrapper.appendChild(this.play),this.innerWrapper.appendChild(this.image),this.innerWrapper.onclick=this._onClick},_createWrapper:function(){Util.clearElement(this._settings.element),this.wrapper=Util.createElement({className:"wm-poster-wrapper"}),this.wrapper.appendChild(this.innerWrapper)},_applyLetterbox:function(){var a=this._settings.width/this._settings.height,b=this.imageWidth/this.imageHeight;if(isNaN(this.imageWidth)||isNaN(this.imageHeight)||isNaN(a)||isNaN(b))return;var c,d;a>b?c=Math.round(this._settings.height*b):a<b&&(d=Math.round(this._settings.width/b)),c=c||this._settings.width,d=d||this._settings.height,Util.updateStyleWithUnit(this.image,{width:c,height:d,marginLeft:(this._settings.width-c)/2,marginTop:(this._settings.height-d)/2})},_showImage:function(){this._measureImage(),this._applyLetterbox(),this.image.style.visibility="visible"},_getImageSize:function(){this.imageWidth=parseInt(Util.getStyle(this.image,"width").replace(/\D+/,""),10),this.imageHeight=parseInt(Util.getStyle(this.image,"height").replace(/\D+/,""),10)},_measureImage:function(){this._getImageSize();if(isNaN(this.imageWidth)||isNaN(this.imageHeight)||this.imageWidth==100||this.imageHeight==100){var a=Util.body(),b=Util.createElement({width:"1px",height:"1px"});a.appendChild(b),b.appendChild(this.image),this._getImageSize(),a.removeChild(b),this.innerWrapper.appendChild(this.image)}}});Poster.MAX_FADE_OUT=.6,Poster.AVAILABLE_HEIGHTS=[216,240,360],Poster.CLASSES=["wm-poster-image","wm-poster-play","wm-poster-inner-wrapper","wm-poster-wrapper"],Poster._fixHeight=function(a){a=parseInt(a,10);for(var b=0;b<Poster.AVAILABLE_HEIGHTS.length;b++)if(Poster.AVAILABLE_HEIGHTS[b]>=a)return Poster.AVAILABLE_HEIGHTS[b];return Poster.AVAILABLE_HEIGHTS[Poster.AVAILABLE_HEIGHTS.length-1]},Data.all=function(a,b){var c=b||"player";return _(Data._getDataSet(a)).reduce(function(a,b,d){return a[Util.firstOnLower(d.replace(c,""))]=b,a},{})},Data._getDataSet=function(a){return _(a.attributes).reduce(function(b,c){var d=c.name;if(typeof d=="string"&&d.match(/^data-/)){var e=Data._extractAttributeName(d.toLowerCase());b[e]=QueryString.parseValue(a.getAttribute(d))}return b},{})},Data._extractAttributeName=function(a){return Util.firstOnLower(_(a.substring(5)).camelize())},Auth._lightbox=null,Auth.hasGlbId=function(){var a=Util.getCookie("GLBID");return typeof a=="string"&&a.length>10},Auth.getHash=function(a){var b="getHash_"+Util.getCurrentTime(),c="/videos/"+a.videosIDs+"/hash?resource_id="+a.resourceId+"&callback="+b,d="http://"+Env.securityHostname()+c,e=Auth._getHashCallbackWrapper(a.success,a.error);Ajax.jsonp({url:d,callbackName:b,success:e,error:e})},Auth._getHashCallbackWrapper=function(a,b){return function(c){Auth._isValidHash(c)?a&&a(c):b&&b(Util.isObject(c)?c:{})}},Auth.isAuthenticationRequired=function(a){return Playlist.hasSubscriberOnly(a)},Auth._isValidHash=function(a){return a!==undefined&&a!=null&&a.hash!==undefined&&a.hash!=null&&a.hash!==""},Auth.checkAuthorized=function(a){if(Env.isGloboDomain()&&!Auth.hasGlbId())a.callback(!1);else{var b=function(b){a.callback&&a.callback(!0,b)},c=function(b){a.callback&&a.callback(!1,b)};Auth.getHash({videosIDs:a.videosIDs,resourceId:a.resourceId,success:b,error:c})}},Auth._loginIframeUrl=function(a,b,c){c=c||"widget";var d=encodeURIComponent(Util.getCurrentUrl()),e=b?encodeURIComponent("http://"+Env.playerHostname()+"/p2/close_box_login.html?url="+d):d,f=Env.isTest()?"http":"https",g=f+"://"+Env.cadunHostname()+"/login/"+a+"?tam="+c+"&url="+e;return g},Auth.redirectToAuthenticationScreen=function(a){location.href=Auth._loginIframeUrl(a.serviceId,!1)},Auth.showAuthenticationScreen=function(a){var b=function(){Auth._authenticationScreenCallback(a.callback)};Message.receive(b,"http://"+Env.playerHostname());var c=Util.byId("wmPlayerBoxLogin");c?Util.clearElement(c):(c=Util.createElement({id:"wmPlayerBoxLogin",backgroundColor:"#FFFFFF",width:"350px",height:"520px",position:"relative"}),Util.body().appendChild(c));var d=Util.createElement({tagName:"iframe",id:"",backgroundColor:"#FFFFFF",width:"100%",height:"100%",border:"none",position:"relative"});d.setAttribute("src",Auth._loginIframeUrl(a.serviceId,!0)),c.appendChild(d),Auth._lightbox?Auth._lightbox.onClose=a.onClose:Auth._lightbox=new Effect.Lightbox({element:c,onClose:a.onClose}),Event.addListener(d,"load",Auth._onIframeLoad),Auth._openLightbox()},Auth._onIframeLoad=function(){var a=Util.byId("wmPlayerBoxLogin");if(a){var b=Util.firstByTag("iframe",a);b._hasBeenReladed&&Auth._lightbox.resize({width:980}),b._hasBeenReladed=!0}},Auth._openLightbox=function(){Auth._lightbox&&Auth._lightbox.open()},Auth.closeAuthenticationScreen=function(){Auth._lightbox&&Auth._lightbox.close()},Auth._authenticationScreenCallback=function(a){Message.receive(),Auth.closeAuthenticationScreen(),a&&a()},Auth.closeBoxLoginScreen=function(){var a=Util.getUrlParameters();Message.post('{"operation":"close"}',window.unescape(a.url))};var B64_TAB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RESIGN_EXPIRATION=3600,PADDINGgrf="=0xAC10FD",b64pad="",b64_grf=function(a){var b=function(a){var b="",c=a.length;for(var d=0;d<c;d+=3){var e=a.charCodeAt(d)<<16|(d+1<c?a.charCodeAt(d+1)<<8:0)|(d+2<c?a.charCodeAt(d+2):0);for(var f=0;f<4;f++)d*8+f*6>a.length*8?b+=b64pad:b+=B64_TAB.charAt(e>>>6*(3-f)&63)}return b},c=function(a,b){var c="",d=-1,e,f;a+=b.substr(1,8);while(++d<a.length)e=a.charCodeAt(d),f=d+1<a.length?a.charCodeAt(d+1):0,55296<=e&&e<=56319&&56320<=f&&f<=57343&&(e=65536+((e&1023)<<10)+(f&1023),d++),e<=127?c+=String.fromCharCode(e):e<=2047?c+=String.fromCharCode(192|e>>>6&31,128|e&63):e<=65535?c+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|e&63):e<=2097151&&(c+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|e&63));return c},d=function(a){var b=new Array(a.length>>2);for(var c=0;c<b.length;c++)b[c]=0;for(c=0;c<a.length*8;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<c%32;return b},e=function(a){var b="";for(var c=0;c<a.length*32;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b},f=function(a,b){var c=(a&65535)+(b&65535),d=(a>>16)+(b>>16)+(c>>16);return d<<16|c&65535},g=function(a,b){return a<<b|a>>>32-b},h=function(a,b,c,d,e,h){return f(g(f(f(b,a),f(d,h)),e),c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;var c=1732584193,d=-271733879,e=-1732584194,g=271733878;for(var h=0;h<a.length;h+=16){var m=c,n=d,o=e,p=g;c=i(c,d,e,g,a[h+0],7,-680876936),g=i(g,c,d,e,a[h+1],12,-389564586),e=i(e,g,c,d,a[h+2],17,606105819),d=i(d,e,g,c,a[h+3],22,-1044525330),c=i(c,d,e,g,a[h+4],7,-176418897),g=i(g,c,d,e,a[h+5],12,1200080426),e=i(e,g,c,d,a[h+6],17,-1473231341),d=i(d,e,g,c,a[h+7],22,-45705983),c=i(c,d,e,g,a[h+8],7,1770035416),g=i(g,c,d,e,a[h+9],12,-1958414417),e=i(e,g,c,d,a[h+10],17,-42063),d=i(d,e,g,c,a[h+11],22,-1990404162),c=i(c,d,e,g,a[h+12],7,1804603682),g=i(g,c,d,e,a[h+13],12,-40341101),e=i(e,g,c,d,a[h+14],17,-1502002290),d=i(d,e,g,c,a[h+15],22,1236535329),c=j(c,d,e,g,a[h+1],5,-165796510),g=j(g,c,d,e,a[h+6],9,-1069501632),e=j(e,g,c,d,a[h+11],14,643717713),d=j(d,e,g,c,a[h+0],20,-373897302),c=j(c,d,e,g,a[h+5],5,-701558691),g=j(g,c,d,e,a[h+10],9,38016083),e=j(e,g,c,d,a[h+15],14,-660478335),d=j(d,e,g,c,a[h+4],20,-405537848),c=j(c,d,e,g,a[h+9],5,568446438),g=j(g,c,d,e,a[h+14],9,-1019803690),e=j(e,g,c,d,a[h+3],14,-187363961),d=j(d,e,g,c,a[h+8],20,1163531501),c=j(c,d,e,g,a[h+13],5,-1444681467),g=j(g,c,d,e,a[h+2],9,-51403784),e=j(e,g,c,d,a[h+7],14,1735328473),d=j(d,e,g,c,a[h+12],20,-1926607734),c=k(c,d,e,g,a[h+5],4,-378558),g=k(g,c,d,e,a[h+8],11,-2022574463),e=k(e,g,c,d,a[h+11],16,1839030562),d=k(d,e,g,c,a[h+14],23,-35309556),c=k(c,d,e,g,a[h+1],4,-1530992060),g=k(g,c,d,e,a[h+4],11,1272893353),e=k(e,g,c,d,a[h+7],16,-155497632),d=k(d,e,g,c,a[h+10],23,-1094730640),c=k(c,d,e,g,a[h+13],4,681279174),g=k(g,c,d,e,a[h+0],11,-358537222),e=k(e,g,c,d,a[h+3],16,-722521979),d=k(d,e,g,c,a[h+6],23,76029189),c=k(c,d,e,g,a[h+9],4,-640364487),g=k(g,c,d,e,a[h+12],11,-421815835),e=k(e,g,c,d,a[h+15],16,530742520),d=k(d,e,g,c,a[h+2],23,-995338651),c=l(c,d,e,g,a[h+0],6,-198630844),g=l(g,c,d,e,a[h+7],10,1126891415),e=l(e,g,c,d,a[h+14],15,-1416354905),d=l(d,e,g,c,a[h+5],21,-57434055),c=l(c,d,e,g,a[h+12],6,1700485571),g=l(g,c,d,e,a[h+3],10,-1894986606),e=l(e,g,c,d,a[h+10],15,-1051523),d=l(d,e,g,c,a[h+1],21,-2054922799),c=l(c,d,e,g,a[h+8],6,1873313359),g=l(g,c,d,e,a[h+15],10,-30611744),e=l(e,g,c,d,a[h+6],15,-1560198380),d=l(d,e,g,c,a[h+13],21,1309151649),c=l(c,d,e,g,a[h+4],6,-145523070),g=l(g,c,d,e,a[h+11],10,-1120210379),e=l(e,g,c,d,a[h+2],15,718787259),d=l(d,e,g,c,a[h+9],21,-343485551),c=f(c,m),d=f(d,n),e=f(e,o),g=f(g,p)}return[c,d,e,g]},n=function(a){return e(m(d(a),a.length*8))};return b(n(c(a,PADDINGgrf)))},_random=function(){var a=Math.round(Math.random()*1e10).toString();while(a.length<10)a="0"+a;return a},signOnDemand=function(a){var b=a.substr(0,2),c=a.substr(2,10),d=a.substr(12,10),e=a.substr(22,22),f=Number(c)+RESIGN_EXPIRATION,g=_random(),h=b64_grf(e+f+g);return"05"+b+c+d+f+g+h},_currentTime=function(){return(new Date).getTime()},signLive=function(a){var b=a.substr(0,2),c=a.substr(2,1),d=a.substr(3,10),e=a.substr(13,10),f=a.substr(24,22),g=_currentTime()+RESIGN_EXPIRATION,h=_random(),i=b64_grf(f+g+h);return"05"+b+c+d+e+g+h+i},sign=function(a
){var b="04",c="03",d="",e=a.substr(0,2);return e==b?signLive(a):e==c?signOnDemand(a):d};UUID.generate=function(){var a=[],b="",c;for(c=0;c<=15;c++)a[c]=c.toString(16);for(c=1;c<=36;c++)c===9||c===14||c===19||c===24?b+="-":c===15?b+=4:c===20?b+=a[Math.random()*4|8]:b+=a[Math.random()*15|0];return b},Builder.toObjectTag=function(a){return Templates.objectTag({objectId:a.objectId,wmode:"opaque",swfUrl:a.swf||"http://"+Env.playerHostname()+"/p2/player.swf",flashvars:Builder._toFlashVars(a)})},Builder.toVideoTag=function(a){return Templates.videoTag(a)},Builder._toFlashVars=function(a){return _(a).reduce(function(b,c,d){return Util.isPrimitive(a[d])&&!Util.isPrivate(d)&&b.push(d+"="+a[d]),b},[]).join("&")};var Ad=WMClass.extend({init:function(a){this._mapping=a.banners||{},this._previous={}},addBanner:function(a){var b=this._idFor(a),c=Util.byId(b);c&&(this._previous[b]=c.innerHTML,c.innerHTML=a.data)},addIFrameBanner:function(a){var b=Templates.iframeBanner(a);this.addBanner(_({}).extend(a,{data:b}))},removeBanner:function(a){var b=this._idFor(a),c=Util.byId(b);c&&(c.innerHTML=this._previous[b])},_idFor:function(a){var b=a.size||a.width+"x"+a.height;return this._mapping[b]||"auditude_companion_"+b}}),PlayerFactory={create:function(a){return Util.isIPad()?new PlayerHtml5.IPad(a):Util.isIPhone()?new PlayerHtml5.IPhone(a):Util.isAndroid()?new PlayerHtml5.Android(a):Util.hasFlashInstalled()||Util.isGoogleBot()?new PlayerFlash(a):Util.isHtml5VideoSupported()?new PlayerHtml5.IPhone(a):new PlayerFlash(a)}},PlayerManager=[],Player=function(a){Util.isObject(a)&&_(a).forEach(function(a,b){if(Util.isPrivate(b)||_(Player.PROTECTED_ATTRIBUTES).indexOf(b)!=-1)throw new Player.Exception(b+" should not be overrided");this[b]=a},this),this.errorMessages=this.errorMessages||[],this._definedProperties(),this._defaultValues(),this._delegate(["playVideo","seek","pauseVideo","stopVideo","mute","unmute","volume","lightOn","lightOff","loadSecondary","hideSecondary","dynamicStream","isStopped","isPlaying","isPaused","isStretched","isLightOn","isOnPoster","watchedPercentage","stretch","shrink"]),Util.mergeObjects(this,Util.getUrlParameters(QueryString.PLAYER_PARAMS_PREFIX)),Env.environment=this.environment,this._ad=new Ad(this)};Player.prototype={attachTo:function(a){this._element=a,Util.updateStyle(a,{backgroundColor:"black",overflow:"hidden"}),this._setElementSize(),this._light=new Effect.Light(a,this.zIndex,{onLightOnStart:Util.toCallbackFunction("onLightOnStart",this),onLightOnComplete:Util.toCallbackFunction("onLightOnComplete",this),onLightOffStart:Util.toCallbackFunction("onLightOffStart",this),onLightOffComplete:Util.toCallbackFunction("onLightOffComplete",this)}),this._createAndStart()},load:function(a){this.videosIDs=a.videosIDs,this.autoPlay=a.autoPlay===undefined||a.autoPlay,this._ad=new Ad(this),this.autoPlay&&this._hasPlayerImpl()?this._playerImpl.load(a):this._createAndStart()},resize:function(a){this.width=a.width||this.width,this.height=a.height||this.height,this._setElementSize(),this._hasPlayerImpl()&&this._playerImpl.resize({width:this.width,height:this.height})},authenticationRequired:function(){this._hasPlayerImpl()?this._playerImpl.loadPlaylist():this._createAndStart()},getErrorMessageFor:function(a){if(this._hasPlayerImpl())return this._playerImpl.getErrorMessageFor(a)},getUserId:function(){return Util.getCookie("wmp_uuid")||Util.setCookie("wmp_uuid",UUID.generate(),730,Util.getTopLevelDomain())},_setElementSize:function(){Util.updateStyleWithUnit(this._element,{width:this.width,height:this.height})},_hasPlayerImpl:function(){return this._playerImpl!==undefined},_delegate:function(a){_(a).each(function(a){this[a]=_.bind(function(){if(this._hasPlayerImpl())return this._playerImpl[a].apply(this._playerImpl,arguments)},this)},this)},_createAndStart:function(){this._create(),this.videosIDs?this._start():this._playerImpl._renderError({http_status_code:404})},_create:function(){this._playerImpl=PlayerFactory.create({playerId:this.id,width:this.width,height:this.height,autoPlay:this.autoPlay,element:this._element,player:this})},_start:function(){this.autoPlay?this._playerImpl.loadPlaylist():this._playerImpl.showPoster()},_definedProperties:function(){this.id=PlayerManager.push(this)-1,this.objectId="wmPlayer-"+this.id,this.playerNamespace=_.template(this.playerNamespaceTemplate||"WM.PlayerManager[<%= id %>]")({id:this.id})},_defaultValues:function(){_(this).defaults({autoPlay:this.autoplay||!1,width:320,height:240,stretchWidth:this.stretchwidth||this.width,stretchHeight:this.stretchheight||this.height,environment:Env.defaultEnvironment,simulateAutoPlay:!this.autoPlay,onLightOn:this.playerNamespace+"._onLightOn",onLightOff:this.playerNamespace+"._onLightOff",onStretch:this.playerNamespace+"._onStretch",onShrink:this.playerNamespace+"._onShrink",retrieveRelatedFeedURL:this.playerNamespace+"._retrieveRelatedFeedURL",playRelated:this._getPlayRelated()}),this.videosIDs=this._getVideosIDs()},_retrieveRelatedFeedURL:function(){return""},_getPlayRelated:function(){return Util.toCallbackFunction("onPlayRelatedClick",this)||this._onPlayRelatedClick},_getVideosIDs:function(){return String(this.videosIDs||this.videosids||Util.extractIdFromURL(this.videoURL||this.videourl)||"")},_interfaceReady:function(){this._hasPlayerImpl()&&this._playerImpl.setCallbacks()},_onShrink:function(){this._tweenResize(this.width,this.height,"onShrinkStart","onShrinkComplete")},_onStretch:function(){this._tweenResize(this.stretchWidth,this.stretchHeight,"onStretchStart","onStretchComplete")},_onLightOn:function(){this._light.on()},_onLightOff:function(){this._light.off()},_onPlayRelatedClick:function(){return!1},_tweenResize:function(a,b,c,d){var e=this;Util.callCallbackFunction(c,this),Effect.tween(this._element,{width:a,height:b,duration:800,easing:Effect.easeInOutExpo,onUpdate:function(){e._light.resizeAndPosition()},complete:function(){e._light.resizeAndPosition(),Util.callCallbackFunction(d,e)}})},_addBanner:function(a){this._ad.addBanner(a)},_addIFrameBanner:function(a){this._ad.addIFrameBanner(a)},_removeBanner:function(a){this._ad.removeBanner(a)}},Player.Exception=function(a){this.message=a},Player.PROTECTED_ATTRIBUTES=["id","attachTo","objectId","playerNamespace","playVideo","seek","pauseVideo","stopVideo","mute","unmute","volume","lightOn","lightOff","load","loadSecondary","hideSecondary","authenticationRequired","dynamicStream","resize","getErrorMessageFor","isStopped","isPlaying","isPaused","isStretched","isLightOn","isOnPoster","playRelated","getUserId","stretch","shrink","watchedPercentage"];var PlayerFlash=WMClass.extend({_videoIndex:0,_totalChildren:1,_hasRenderedPlayer:!1,init:function(a){this.settings=a,this._setup()},showPoster:function(){this._renderPoster(),this._getPoster().enable()},loadPlaylist:function(){Playlist.load({playerId:this.settings.playerId,videoID:this._mainVideoID(),success:this._playlistLoaded,error:this._playlistLoadError,profile:this.player.profile})},posterClicked:function(){this._call("onPlay"),this.loadPlaylist()},playVideo:function(){this._hasRenderedPlayer?this._getObject().playVideo():this.posterClicked()},seek:function(a){this._hasRenderedPlayer&&this._getObject().seek(a)},pauseVideo:function(){this._hasRenderedPlayer&&this._getObject().pauseVideo()},stopVideo:function(){this._hasRenderedPlayer&&this._getObject().stopVideo()},mute:function(){this._hasRenderedPlayer&&this._getObject().mute()},unmute:function(){this._hasRenderedPlayer&&this._getObject().unmute()},volume:function(a){this._hasRenderedPlayer&&this._getObject().volume(a)},lightOn:function(){this._hasRenderedPlayer&&this._getObject().lightOn()},lightOff:function(){this._hasRenderedPlayer&&this._getObject().lightOff()},stretch:function(){this._hasRenderedPlayer&&this._getObject().stretch()},shrink:function(){this._hasRenderedPlayer&&this._getObject().shrink()},watchedPercentage:function(){if(this._hasRenderedPlayer)return this._getObject().watchedPercentage()},load:function(a){this._hasRenderedPlayer?this._getObject().load(a):this.loadPlaylist()},loadSecondary:function(a){this._hasRenderedPlayer&&this._getObject().loadSecondary(a)},hideSecondary:function(){this._hasRenderedPlayer&&this._getObject().hideSecondary()},dynamicStream:function(a){this._hasRenderedPlayer&&this._getObject().dynamicStream(a)},isStopped:function(){return this._hasRenderedPlayer?this._getObject().isVideoStopped():!0},isPlaying:function(){return this._hasRenderedPlayer?this._getObject().isVideoPlaying():!1},isPaused:function(){return this._hasRenderedPlayer?this._getObject().isVideoPaused():!1},isStretched:function(){return this._hasRenderedPlayer?this._getObject().isStretched():!1},isLightOn:function(){return this._hasRenderedPlayer?this._getObject().isLightOn():!0},isOnPoster:function(){return!this._hasRenderedPlayer&&this.error&&!this.error.rendered},resize:function(a){this._getPoster()&&this._getPoster().resize(a),this.error.resize(a)},setCallbacks:function(){if(this._hasRenderedPlayer){var a=this._getObject();a?(this._setCallbacks(a,a.addListener,PlayerFlash.CALLBACKS),this._setCallbacks(a,a.addInputListener,PlayerFlash.INPUTCALLBACKS)):Util.log("Object tag was not found, could not configure callbacks")}},getErrorMessageFor:function(a){return this.error.messageFor(a)},_call:function(a){var b=Util.toCallbackFunction(a,this.player);b&&b({type:a})},_setup:function(){this.player=this.settings.player,this.error=new ErrorPage({element:this.settings.element,errorMessages:this.player.errorMessages,width:this.settings.width,height:this.settings.height}),_(this).bindAll()},_getObject:function(){return Util.byId(this.player.objectId)},_mainVideoID:function(){return this.player.videosIDs.split("|")[0]},_setCallbacks:function(a,b,c){_(c).forEach(function(c){var d=this.player[c.toLowerCase()]||this.player[c];if(d){_.isFunction(d)&&(this.player[c]=d,d=this.player.playerNamespace+"."+c);try{b.call(a,c,d)}catch(e){Util.log("Could not configure callback "+c+":",e)}}},this)},_playlistLoaded:function(a){this._setPlaylist(a),this._getResource(),this._getTotalChildren(),this._isAuthenticationRequired()?this._checkAuthorized():this._authorized()},_setPlaylist:function(a){this.playlist=this.player.playlist=a,_(this.player).defaults(a.profile)},_isAuthenticationRequired:function(){return Auth.isAuthenticationRequired(this.playlist)},_playlistLoadError:function(a){this._renderError(a)},_getResource:function(){this.resource=Playlist.getResource(this.playlist,this._videoIndex,this._childrenIndex)},_checkAuthorized:function(){Auth.checkAuthorized({videosIDs:this._mainVideoID(),resourceId:this._getResourcesIds(),callback:this._authorizationChecked})},_authorizationChecked:function(a,b){a?this._authorized():this._isNotAuthorized(b)?this._handleAuthentication():this._renderError(b)},_isNotAuthorized:function(a){return a===undefined||this.error.isNotAuthorized(a)},_authorized:function(){this._render()},_handleAuthentication:function(){this._renderPoster(),this._getPoster().disable(),this._showAuthenticationScreen()},_showAuthenticationScreen:function(){Auth.showAuthenticationScreen({serviceId:Playlist.getServiceId(this.playlist),element:this.settings.element,callback:this._authorized,onClose:this.showPoster})},_renderError:function(a){var b;this.error.isNotFound(a)?b=ErrorPage.NOT_FOUND.code:this.error.isGeoBlocked(a)&&(b=ErrorPage.GEO_BLOCKED.code),this.error.render(b),this._hasRenderedPlayer=!1},_renderFlashErrorPage:function(){this.error.render(ErrorPage.DEVICE_NOT_SUPPORTED.code),this._hasRenderedPlayer=!1},_getPoster:function(){return this._poster===undefined&&(this._poster=new Poster),this._poster},_renderPoster:function(){this._getPoster().render({element:this.settings.element,videoID:this._mainVideoID(),width:this.settings.width,height:this.settings.height,callback:this.posterClicked}),this._hasRenderedPlayer=!1},_render:function(){Util.clearElement(this.settings.element),Util.hasFlashInstalled()?(this.settings.element.innerHTML=Builder.toObjectTag(this.player),this._hasRenderedPlayer=!0):Util.isGoogleBot()?this._renderPoster():this._renderFlashErrorPage()},_getResourcesIds:function(){var a=[];for(var b=0;b<this._totalChildren;b++)a.push(Playlist.getResource(this.playlist,this._videoIndex,b).id);return a.join("|")},_getTotalChildren:function(){this._totalChildren=Playlist.totalChildren(this.playlist,this._videoIndex)}});PlayerFlash.CALLBACKS=["onLightOn","onLightOff","complete","onNotifyWatched"],PlayerFlash.INPUTCALLBACKS=["onPlay","onPause","onStop","onSeek","onVolumeChange","onMute","onUnmute","onEnterFullScreen","onExitFullScreen","onShrink","onStretch","onDynamicStream"],PlayerHtml5.BLACK_VIDEO="http://flashvideo.globo.com/entretenimento/1/propaganda/black.mp4",PlayerHtml5.IPad=PlayerFlash.extend({_childrenIndex:0,_eventsRegistered:!1,_hasTrackedPlay:!1,_signedHashes:[],_stretched:!1,_lightOn:!0,_user:undefined,playVideo:function(){this._isRendered()?this._video.play():this.posterClicked()},seek:function(a){if(this._isRendered()){var b=this._video.duration;if(!isNaN(b)){var c=parseFloat(a.seekPercentage);this._video.currentTime=b*c}}},pauseVideo:function(){this._isRendered()&&this._video.pause()},stopVideo:function(){this._isRendered()&&(this._video.pause(),this._video.currentTime=0,this._call("onStop"))},mute:function(){this._isRendered()&&(this._video.muted=!0)},unmute:function(){this._isRendered()&&(this._video.muted=!1)},volume:function(a){this._isRendered()&&(this._video.volume=parseFloat(a.value))},lightOn:function(){this._lightOn=!0,this._call("onLightOn")},lightOff:function(){this._lightOn=!1,this._call("onLightOff")},stretch:function(){this._stretched=!0,this._call("onStretch")},shrink:function(){this._stretched=!1,this._call("onShrink")},load:function(a){Util.clearElement(this.settings.element),this._video=undefined,this.loadPlaylist()},isStopped:function(){if(this._isRendered())return this._video.ended||this._video.paused&&this._video.currentTime===0},isPlaying:function(){if(this._isRendered())return!this._video.paused&&!this._video.ended},isPaused:function(){if(this._isRendered())return this._video.paused&&this._video.currentTime!==0},isStretched:function(){return this._stretched},isLightOn:function(){return this._lightOn},setCallbacks:function(){this._setCallbacks("onPlay","play"),this._setCallbacks("onPause","pause"),this._setCallbacks("onStop","ended"),this._setCallbacks("complete","ended"),this._setCallbacks("onSeek","seeked")},_setCallbacks:function(a,b){var c=Util.toCallbackFunction(a,this.player);c&&Event.addListener(this._video,b,c)},showPoster:function(){this._render(),this._setupFirstPlay()},_setup:function(){this._super(),this._metrics=Metrics.getDefaultInstance()},_playlistLoaded:function(a){this._getResource(),this._super(a)},_playlistLoadError:function(a){this._renderError(a)},_authorized:function(){this._loadHash()},_handleAuthentication:function(){this.settings.autoPlay&&(this.showPoster(),this._hideVideo()),this._showAuthenticationScreen()},_loadHash:function(){Auth.getHash({videosIDs:this._mainVideoID(),resourceId:this._getResourcesIds(),success:this._hashLoaded,error:this._hashError})},_hashLoaded:function(a){this._setUser(a),this._setSignedHashes(a),this._play()},_setUser:function(a){this._user=a.user},_setSignedHashes:function(a){var b=a.hash instanceof Array?a.hash:[a.hash];this._signedHashes=_(b).map(function(a){return sign(a)})},_getVideoURL:function(){var a,b,c,d;return b=this._signedHashes[this._childrenIndex],this._getVideoType()==="Live"?(c=this._isSubscriberOnly()?"F":"A",d=this._user!==undefined?this._user:"",a=this.resource.url+"?h="+b+"&u="+d+"&a="+c):a=this.resource.url+"?"+b,a},_play:function(){var a=this._getVideoURL();this._isRendered()?(this._showVideo(),this._loadAndPlay(a)):this._render(a)},_hashError:function(a){this._renderError(a)},_isRendered:function(){return this._video!==undefined},_loadAndPlay:function(a){this._video.src=a,this._eventsRegistered||this._setupEventListeners(),this._video.load(),this._video.play()},_showVideo:function(){Effect.show(this._video)},_hideVideo:function(){Effect.hide(this._video)},_render:function(a){Util.clearElement(this.settings.element),this.settings.element.innerHTML=Builder.toVideoTag({width:this.settings.width,height:this.settings.height,src:a||PlayerHtml5.BLACK_VIDEO,poster:this._getPosterUrl()}),this._video=Util.firstByTag("video",this.settings.element),this._hasRenderedPlayer=!0,a&&this._setupEventListeners()},_getPosterUrl:function(){return Util.thumbURL({videoID:this._mainVideoID(),height:Poster._fixHeight(this.settings.height)})},_setupFirstPlay:function(){Event.addListener(this._video,"play",this._onFirstPlay)},_onFirstPlay:function(){Event.removeListener(this._video,"play",this._onFirstPlay),this._hideVideo(),this.loadPlaylist()},_setupEventListeners:function(){Event.addListener(this._video,"play",this._onPlay),Event.addListener(this._video,"pause",this._onPause),Event.addListener(this._video,"timeupdate",this._onTimeUpdate),Event.addListener(this._video,"loadedmetadata",this._onLoadedMetadata),Event.addListener(this._video,"ended",this._onEnded),this.setCallbacks(),this._eventsRegistered=!0},_onPlay:function(){this._metadataLoaded&&(this._metrics.open(this._parameters),this._metrics.play(this._parameters),this._hasTrackedPlay=!0)},_onPause:function(){this._metrics.pause(this._parameters)},_onTimeUpdate:function(){if(_(this._parameters).isUndefined())return;this._parameters.currentTime=this._video.currentTime},_onLoadedMetadata:function(){this._parameters=Playlist.parametersForMetrics(this.playlist,this._videoIndex),this._parameters.trackOnOmniture=this._trackOnOmniture(),this._parameters.trackOnGA=this._trackOnGA(),this._parameters.duration=this._video.duration,this._metadataLoaded=!0},_onEnded:function(){this._isLastChild()&&this._metrics.end(this._parameters),this._next()},_getVideoType:function(){return Playlist._getVideo(this.playlist,0).type},_isSubscriberOnly:function(){return Playlist._getVideo(this.playlist,0).subscriber_only},_trackOnGA:function(){return this._isFirstChild()&&!this._hasTrackedPlay},_trackOnOmniture:function(){return this._getVideoType()=="Video"||this.player.forcetrackingonomniture||!1},_isFirstChild:function(){return this._childrenIndex===0},_isLastChild:function(){return this._childrenIndex==this._totalChildren-1},_next:function(){this._isLastChild()||(this._childrenIndex++,this._getResource(),this._play())},_getResource:function(){this.resource=Playlist.getResource(this.playlist,this._videoIndex,this._childrenIndex)}}),PlayerHtml5.IPhone=PlayerHtml5.IPad.extend({showPoster:function(){this.loadPlaylist()},posterClicked:function(){this._redirectToAuthenticationPage()},_handleAuthentication:function(){this.settings.autoPlay?this._redirectToAuthenticationPage():this._renderPoster()},_redirectToAuthenticationPage:function(){Auth.redirectToAuthenticationScreen({serviceId:Playlist.getServiceId(this.playlist)})}}),PlayerHtml5.Android=PlayerHtml5.IPhone.extend({_getVideoFromPlaylist:function(){return this.playlist.videos[this._videoIndex]},posterClicked:function(){this._src?Util.navigateTo(this._src):this._super()},_render:function(a){Playlist.isGalleryOrFullEpisode(this._getVideoFromPlaylist())?Util.hasFlashInstalled()?this._fallbackToFlashPlayer():this._renderFlashErrorPage():Util.canPlayType(a||PlayerHtml5.BLACK_VIDEO)?this._super(a):(this._src=a||PlayerHtml5.BLACK_VIDEO,this._renderPoster())},_fallbackToFlashPlayer:function(){Util.clearElement(this.settings.element),this.settings.element.innerHTML=Builder.toObjectTag(this.player),this._hasRenderedPlayer=!0}});try{RegistradorGMCEmbed.existo()}catch(e){RegistradorGMCEmbed={existo:function(){return!0},registrar:function(a){},obter:function(a){return PlayerManager[a].gmcembed}}}GMCEmbed.prototype={setConfigParaNovoPlayer:function(){},deprecated:function(a){window&&window.console&&window.console.log&&window.console.log("DEPRECATION WARNING: "+a)},_chave:function(){return"PINLX".indexOf(this.config.banda)==-1&&(this.config.banda="N"),this.config.novoPlayer?this.config.banda?this.config.banda:"N":this.config.pp?"PaginaPlayer":this.config.banda?this.config.banda:"N"},_largura:function(){return this.tamanhos[this._chave()].largura},_altura:function(){var a=this.tamanhos[this._chave()];return this.config.escondeBarraInferior?a.altura-a.barraInferior:a.altura},toString:function(a){},makeIframe:function(){},play:function(){},destroy:function(){},_vp:function(a){},print:function(a){var b="gmcembed_wrapper_"+this.config.idEmbed;document.writeln('<div id="'+b+'" style="margin: 0 auto; clear: both;"></div>'),this.player.attachTo(document.getElementById(b))},attach:function(a,b){var c=document.getElementById(a),d="gmcembed_wrapper_"+this.config.idEmbed;c.innerHTML='<div id="'+d+'" style="margin: 0 auto; clear: both; "></div>',this.player.attachTo(document.getElementById(d))},acertaFrameFlash:function(){},acertaFrameH264:function(){},resize:function(a){this.config.banda=a,this.player.resize({width:this._largura(),height:this._altura()})},observarEventos:function(){},verificarEventosDefault:function(){},notificaEvento:function(a){},metodoDoEvento:function(a){},load:function(a){this.player.load(a)},loadSecondary:function(a){this.player.loadSecondary(a)},hideSecondary:function(){this.player.hideSecondary()},playVideo:function(){this.player.playVideo()},pauseVideo:function(){this.player.pauseVideo()},stopVideo:function(){this.player.stopVideo()},mute:function(){this.player.mute()},unmute:function(){this.player.unmute()},volume:function(a){this.player.volume(a)},seek:function(a){this.player.seek(a)},lightOn:function(){this.player.lightOn()},lightOff:function(){this.player.lightOff()}},GMCEmbedDetecter.prototype={isWmpEmbed:function(){return this.wmp.version=="embed"},isWmpInstalado:function(){return this.wmp.installed&&(this.isWmpEmbed()||this.wmp.version>=9)},isFlashMinimo:function(){return this.flashMinimo},isFlashInstalado:function(){return this.flashInstalado},detectSwf:function(a,b,c){versionStr=this.getSwfVer();if(versionStr==-1)return!1;if(versionStr!=0){this.isIE&&this.isWin&&!this.isOpera?(tempArray=versionStr.split(" "),tempString=tempArray[1],versionArray=tempString.split(",")):versionArray=versionStr.split(".");var d=versionArray[0],e=versionArray[1],f=versionArray[2];if(d>parseFloat(a))return!0;if(d==parseFloat(a)){if(e>parseFloat(b))return!0;if(e==parseFloat(b)&&f>=parseFloat(c))return!0}return!1}},getSwfVerWin:function(){var a,b,c;try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),a=b.GetVariable("$version")}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),a="WIN 6,0,21,0",b.AllowScriptAccess="always",a=b.GetVariable("$version")}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a=b.GetVariable("$version")}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),a="WIN 3,0,18,0"}catch(c){}if(!a)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a="WIN 2,0,0,11"}catch(c){a=-1}return a},getSwfVer:function(){var a=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var b=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",c=navigator.plugins["Shockwave Flash"+b].description,d=c.split(" "),e=d[2].split("."),f=e[0],g=e[1];d[3]!=""?tempArrayMinor=d[3].split("r"):tempArrayMinor=d[4].split("r");var h=tempArrayMinor[1]>0?tempArrayMinor[1]:0,a=f+"."+g+"."+h}}else navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1?a=4:navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1?a=3:navigator.userAgent.toLowerCase().indexOf("webtv")!=-1?a=2:this.isIE&&this.isWin&&!this.isOpera&&(a=this.getSwfVerWin());return a},detectWmp:function(){var a="MediaPlayer.MediaPlayer.1",b="WMPlayer.OCX.7",c={installed:!1,scriptable:!1,version:0},d=null;try{if(window.ActiveXObject){c.scriptable=!0,d=this.createActiveXObject(b);if(d)return c.installed=!0,c.version=parseInt(d.versionInfo),c;d=this.createActiveXObject(a);if(d)return c.installed=!0,c.version=6,c}}catch(e){}try{if(navigator.mimeTypes){d=navigator.mimeTypes["application/x-mplayer2"].enabledPlugin;if(d)return c.scriptable=!1,c.installed=!0,c.version="embed",c}}catch(e){}return c},createActiveXObject:function(a){var b,c=null;try{window.ActiveXObject?c=new ActiveXObject(a):window.GeckoActiveXObject&&(c=new GeckoActiveXObject(a))}catch(d){}return c}};var gmcEmbedDetecter=new GMCEmbedDetecter;GMCEmbedUtil.prototype={getTamanho:function(a,b,c){a||(a="N");var d;c?d="novoPlayer":b?d="swf":d="wmp";var e=this.bandas[d][a];return e||(e=this.bandas[d].N),e},getLargura:function(a,b,c){return this.getTamanho(a,b,c).largura},getAltura:function(a,b,c){return this.getTamanho(a,b,c).altura},doLoginNovo:function(a,b){if(this.isFazendoLogin)return!1;this.isFazendoLogin=!0;var c=document.getElementById("box-erro-form"),d=document.getElementById("li-login"),e=document.getElementById("li-senha");c.className="",d.className="",e.className="";var f=null;if(!a.login.value||a.login.value.length==0)d.className="erro-form",f=a.login;if(!a.senha.value||a.senha.value.length==0)e.className="erro-form",f=a.login;if(f)return c.className="on",f.focus(),this.isFazendoLogin=!1,!1;var g=a.pp&&a.pp.value=="true"?this.urlLogin:this.urlLoginEmbed;return a.action=g,!0},doRequisitos:function(a){this.setCookie("ntr","true",7),this.doSubmit(a)},doSubmit:function(a){var b=document.getElementById(a);url=b.pp&&b.pp.value=="true"?this.urlPlay:this.urlPlayEmbed,b.action=url,b.submit()},setCookie:function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+c*24*60*60*1e3);var e="; expires="+d.toGMTString()}var f="/".length>0?"; path=/":"",g=/\.globoi\.com$/.test(location.hostname)?".globoi.com":".globo.com",h=g.length>0?"; domain="+g:"",i=a+"="+escape(b)+f+h+e;document.cookie=i},getCookie:function(a){var b=document.cookie.indexOf(a+"="),c=b+a.length+1;if(!b&&a!=document.cookie.substring(0,a.length))return null;if(b==-1)return null;var d=document.cookie.indexOf(";",c);return d==-1&&(d=document.cookie.length),unescape(document.cookie.substring(c,d))},getParametros:function(a){var b="?midiaId="+a.midiaId;b+="&autoStart="+(a.autoStart?"true":"false"),b+="&idEmbed="+a.idEmbed,a.imagem&&(b+="&imagem="+a.imagem),a.css&&(b+="&css="+a.css),a.banda&&(b+="&banda="+a.banda),a.pp&&(b+="&pp="+a.pp),a.escondeFimVideo&&(b+="&escondeFimVideo=true"),a.escondeTrocaBanda&&(b+="&escondeTrocaBanda=true"),a.telaCheia&&(b+="&telaCheia=true"),gmcEmbedDetecter.isFlashInstalado()||(b+="&ntf=true"),a.environment&&(b+="&environment="+a.environment),a.novoPlayer&&(b+="&novoPlayer="+a.novoPlayer),a.hostNovoPlayer&&(b+="&hostNovoPlayer="+a.hostNovoPlayer),a.displayLightButton&&(b+="&displayLightButton="+a.displayLightButton),a.displayThumbsUpButton&&(b+="&displayThumbsUpButton="+a.displayThumbsUpButton),a.autoStart&&(!gmcEmbedDetecter.isWmpInstalado()||gmcEmbedDetecter.isWmpEmbed())&&(b+="&ntr=true"),a.sitePage&&(b+="&sitePage="+a.sitePage);for(var c in a)c.indexOf("fl_")==0&&(a[c]!=undefined||a[c]!=null)&&(b+="&"+c+"="+a[c]);return b+="&nocache="+(new Date).getTime(),b},getUrlPlay:function(a){var b;return a.autoStart?b=a.pp?this.urlPlay:this.urlPlayEmbed:b=a.pp?this.urlStop:this.urlStopEmbed,b+this.getParametros(a)},getUrlFim:function(a){var b=a.pp?this.urlFim:this.urlFimEmbed;return b+this.getParametros(a)},adaptaBanda:function(a){document.getElementById("videoBarra")&&(a=="L"?(document.getElementById("tamanhoNormal").style.display="inline",document.getElementById("tamanhoGrande").style.display="none"):(document.getElementById("tamanhoNormal").style.display="none",document.getElementById("tamanhoGrande").style.display="inline"),document.getElementById("videoBarra").style.display="block")},openWin:function(a,b,c){var d=(screen.width-b)/2,e=(screen.height-c)/2,f="width="+b+", height="+c+", top="+e+", left="+d+",scrollbars=yes",g=window.open(a,"embed",f);(g==null||g==undefined)&&alert("Por favor, desative o seu bloqueador de popups e tente novamente")}};var gmcEmbedUtil=new GMCEmbedUtil;MashupEmbed.prototype.addVideoEmbed=function(q,config){if(!this.isVideoEmbedOpen){var divT=document.createElement("div");divT.id="boxVideo";var html='<a class="close" href="javascript:;" onclick="mashupEmbed.videoClose(this);">';html+='<img src="http://video.globo.com/Portal/globonoticias/img/boxBuscaClose.gif" width="15" height="15" alt="fechar" border="0" />',html+='</a><h3><img src="http://video.globo.com/Portal/homeglobocom/2006_2/img/gmc_video.gif" /></h3>',divT.innerHTML=html;var divC=document.createElement("div");divC.id="boxVideoConteudo",divT.style.width=eval(gmcEmbedUtil.getLargura(config.banda))+"px",divT.style.height=eval(gmcEmbedUtil.getAltura(config.banda)+125)+"px",divT.appendChild(divC),document.body.appendChild(divT),this.move(q,divT,-20,17),this.embed=new GMCEmbed(config),this.embed.attach("boxVideoConteudo"),this.isVideoEmbedOpen=!0}},MashupEmbed.prototype.move=function(a,b,c,d){return this.target=a,this.obj=b,this.offx=c,this.offy=d,this.obj.style.left=this.moveX(this.offx,this.target)+"px",this.obj.style.top=this.moveY(this.offy,this.target)+"px",!1},MashupEmbed.prototype.moveX=function(a,b){if(!document.layers){var c=navigator.platform?navigator.platform=="Win32":!1,d=document.all&&!c&&getExplorerVersion()==4.5,e=b,f=0;while(e)e.leftMargin&&!c&&(a+=parseInt(e.leftMargin)),e.offsetLeft!=f&&e.offsetLeft&&(a+=parseInt(e.offsetLeft)),e.offsetLeft!=0&&(f=e.offsetLeft),e=d?e.parentElement:e.offsetParent}else b.x&&(a+=b.x);return a},MashupEmbed.prototype.moveY=function(a,b){if(!document.layers){var c=navigator.platform?navigator.platform=="Win32":!1,d=document.all&&!c&&getExplorerVersion()==4.5,e=b,f=0;while(e)e.topMargin&&!c&&(a+=parseInt(e.topMargin)),e.offsetTop!=f&&e.offsetTop&&(a+=parseInt(e.offsetTop)),e.offsetTop!=0&&(f=e.offsetTop),e=d?e.parentElement:e.offsetParent}else b.y>=0&&(a+=b.y);return a},MashupEmbed.prototype.videoClose=function(a){this.isVideoEmbedOpen&&(this.isVideoEmbedOpen=!1,this.embed.destroy(),a.parentNode.parentNode.removeChild(a.parentNode))};var mashupEmbed=new MashupEmbed;window.RegistradorGMCEmbed=RegistradorGMCEmbed,window.GMCEmbed=GMCEmbed,window.GMCEmbedDetecter=GMCEmbedDetecter,window.GMCEmbedUtil=GMCEmbedUtil,window.MashupEmbed=MashupEmbed,window.gmcEmbedDetecter=gmcEmbedDetecter,window.gmcEmbedUtil=gmcEmbedUtil,window.mashupEmbed=mashupEmbed})(window,window.document);